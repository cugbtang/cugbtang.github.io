<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage data-theme=light><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Hugging Face 三剑客：Transformers、PEFT、TRL 完全指南 - ✌yesplease's blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=color-scheme content="light dark"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=generator content="Hugo 0.152.2"><link rel=canonical href=https://cugbtang.github.io/post/llm/llm-4.2/><meta name=author content="yesplease"><meta name=description content="深入解析 Hugging Face 生态中的三大核心库：Transformers（模型加载与推理）、PEFT（参数高效微调）、TRL（强化学习训练），通过生动比喻理解它们的关系与协同工作方式"><meta name=keywords content="Transformers,PEFT,TRL,HuggingFace,LoRA,RLHF,DPO,PPO,参数高效微调"><meta property="og:url" content="https://cugbtang.github.io/post/llm/llm-4.2/"><meta property="og:site_name" content="✌yesplease's blog"><meta property="og:title" content="Hugging Face 三剑客：Transformers、PEFT、TRL 完全指南"><meta property="og:description" content="深入解析 Hugging Face 生态中的三大核心库：Transformers（模型加载与推理）、PEFT（参数高效微调）、TRL（强化学习训练），通过生动比喻理解它们的关系与协同工作方式"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-12-23T00:00:00+00:00"><meta property="article:modified_time" content="2025-12-23T00:00:00+00:00"><meta property="article:tag" content="Transformers"><meta property="article:tag" content="PEFT"><meta property="article:tag" content="TRL"><meta property="article:tag" content="HuggingFace"><meta property="article:tag" content="LoRA"><meta property="article:tag" content="RLHF"><meta itemprop=name content="Hugging Face 三剑客：Transformers、PEFT、TRL 完全指南"><meta itemprop=description content="深入解析 Hugging Face 生态中的三大核心库：Transformers（模型加载与推理）、PEFT（参数高效微调）、TRL（强化学习训练），通过生动比喻理解它们的关系与协同工作方式"><meta itemprop=datePublished content="2025-12-23T00:00:00+00:00"><meta itemprop=dateModified content="2025-12-23T00:00:00+00:00"><meta itemprop=wordCount content="1097"><meta itemprop=keywords content="Transformers,PEFT,TRL,HuggingFace,LoRA,RLHF,DPO,PPO,参数高效微调"><meta name=twitter:card content="summary"><meta name=twitter:title content="Hugging Face 三剑客：Transformers、PEFT、TRL 完全指南"><meta name=twitter:description content="深入解析 Hugging Face 生态中的三大核心库：Transformers（模型加载与推理）、PEFT（参数高效微调）、TRL（强化学习训练），通过生动比喻理解它们的关系与协同工作方式"><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/style.min.e7c52960f769ac11bea62d460dc48cd995591740192e6c6f8c0f5585fb135c9d.css integrity="sha256-58UpYPdprBG+pi1GDcSM2ZVZF0AZLmxvjA9VhfsTXJ0=" media=screen crossorigin=anonymous><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><script>(function(){var e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e)})()</script></head><body><div id=back-to-top></div><header class=site-header><div class=desktop-header><div class=desktop-header-logo><a href=/ class=logo>✌yesplease</a></div><nav class=desktop-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://cugbtang.github.io/>This is Home</a></li><li class=menu-item><a class=menu-item-link href=https://cugbtang.github.io/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=https://cugbtang.github.io/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=https://cugbtang.github.io/about/>About</a></li><li class=menu-item><a class="theme-toggle menu-item-link" href=javascript:void(0);><svg aria-hidden="true" class="lucide lucide-sun hi-svg-inline theme-icon-light" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
<svg aria-hidden="true" class="lucide lucide-moon hi-svg-inline theme-icon-dark" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M12 3a6 6 0 009 9 9 9 0 11-9-9z"/></svg></a></li><li class=menu-item><a class=menu-item-link href=https://cugbtang.github.io/index.xml rel="noopener alternate" type=application/rss+xml title=rss target=_blank><svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline icon--rss" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></li></ul></nav></div><div class=mobile-header><div id=mobile-navbar class=mobile-navbar><div id=mobile-navbar-icon class=mobile-navbar-icon><svg aria-hidden="true" class="lucide lucide-menu hi-svg-inline icon--menu" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg></div><div class=mobile-navbar-logo><a href=/ class=logo>✌yesplease</a></div></div><div id=mobile-menu-close-modal class=mobile-menu-close-modal></div><nav id=mobile-menu class=mobile-menu><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://cugbtang.github.io/>This is Home</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://cugbtang.github.io/post/>Archives</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://cugbtang.github.io/tags/>Tags</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://cugbtang.github.io/about/>About</a></li><li class=mobile-menu-item><a class="theme-toggle menu-item-link" href=javascript:void(0);><svg aria-hidden="true" class="lucide lucide-sun hi-svg-inline theme-icon-light" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
<svg aria-hidden="true" class="lucide lucide-moon hi-svg-inline theme-icon-dark" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M12 3a6 6 0 009 9 9 9 0 11-9-9z"/></svg></a></li><li class=mobile-menu-item><a class=menu-item-link href=https://cugbtang.github.io/index.xml rel="noopener alternate" type=application/rss+xml title=rss target=_blank><svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline icon--rss" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></li></ul></nav></div></header><main id=main class="main pico container"><div class=content-wrapper><aside class=left-sidebar><nav class=toc id=toc><div class=toc-title>Table of Contents</div><div class="toc-content custom-scrollbar"><nav id=TableOfContents><ul><li><ul><li><a href=#1-transformers>1. <strong>Transformers</strong></a></li><li><a href=#2-peftparameter-efficient-fine-tuning参数高效微调>2. <strong>PEFT（Parameter-Efficient Fine-Tuning，参数高效微调）</strong></a></li><li><a href=#3-trltransformer-reinforcement-learning>3. <strong>TRL（Transformer Reinforcement Learning）</strong></a></li><li><a href=#-三者如何协同工作整体比喻>🧩 三者如何协同工作？（整体比喻）</a></li><li><a href=#-一句话总结>✅ 一句话总结：</a></li></ul></li></ul></nav></div></nav></aside><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Hugging Face 三剑客：Transformers、PEFT、TRL 完全指南</h1><div class=post-meta-list><div class="post-meta-item post-meta-author"><svg aria-hidden="true" class="lucide lucide-user-round-pen hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M2 21a8 8 0 0110.821-7.487"/><path d="M21.378 16.626a1 1 0 00-3.004-3.004l-4.01 4.012a2 2 0 00-.506.854l-.837 2.87a.5.5.0 00.62.62l2.87-.837a2 2 0 00.854-.506z"/><circle cx="10" cy="8" r="5"/></svg>
<a href=/about><span class=post-meta-author-name>yesplease</span></a></div><div class="post-meta-item post-meta-time"><svg aria-hidden="true" class="lucide lucide-calendar-days hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg>
<time datetime=2025-12-23>2025-12-23</time></div><div class=post-meta__right><div class="post-meta-item post-meta-category"><a href=https://cugbtang.github.io/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/>人工智能</a>
<a href=https://cugbtang.github.io/categories/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/>大语言模型</a>
<a href=https://cugbtang.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/>机器学习</a>
<a href=https://cugbtang.github.io/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/>深度学习</a></div></div></div></header><div class=post-content><h1 id=大模型训练的标准工具箱>大模型训练的“标准工具箱”</h1><p>当然可以！你提到的 <strong>transformers</strong>、<strong>trl</strong>、<strong>peft</strong> 是当前大模型（尤其是大语言模型）开发和训练中非常主流的三个开源 Python 库，由 Hugging Face 及其社区主导。它们各自解决不同环节的问题，且高度兼容、可组合使用。</p><p>下面我用<strong>简单解释 + 形象比喻</strong>的方式帮你理解：</p><hr><h3 id=1-transformers>1. <strong>Transformers</strong></h3><ul><li><p><strong>专业解释</strong>：<br>Hugging Face 提供的核心库，封装了大量预训练模型（如 BERT、GPT、Llama、Qwen 等）的架构、加载方式和推理接口。你可以轻松下载、使用或微调这些模型。</p></li><li><p><strong>比喻</strong>：<br>就像一个“智能机器人超市”——里面摆满了各种现成的机器人（模型），有的会写诗，有的会翻译，有的会编程。你不用从螺丝钉开始造，直接选一个带回家，插电就能用，还能自己改装。</p></li></ul><hr><h3 id=2-peftparameter-efficient-fine-tuning参数高效微调>2. <strong>PEFT（Parameter-Efficient Fine-Tuning，参数高效微调）</strong></h3><ul><li><p><strong>专业解释</strong>：<br>一个专注于<strong>高效微调</strong>的工具库，支持 LoRA、Prefix Tuning、Adapter 等技术。它让你只训练模型的一小部分参数（比如加几个小模块），而冻结原始大模型，大幅节省显存和算力。</p></li><li><p><strong>比喻</strong>：<br>想给一辆豪华跑车（大模型）加自动驾驶功能。传统方法要拆掉整个引擎重装（全参数微调），费时费钱；<br>而 PEFT 就像只在方向盘上加一个“智能辅助套件”（LoRA 模块），不动原车结构，便宜又快，效果还不差！</p></li></ul><hr><h3 id=3-trltransformer-reinforcement-learning>3. <strong>TRL（Transformer Reinforcement Learning）</strong></h3><ul><li><p><strong>专业解释</strong>：<br>专为<strong>用强化学习训练语言模型</strong>设计的库，支持 PPO、DPO、SPO、GRPO 等算法，常用于 RLHF 或 RLAIF 阶段。它基于 Transformers 和 PEFT 构建，能无缝对接预训练模型和高效微调。</p></li><li><p><strong>比喻</strong>：<br>如果说 Transformers 是“机器人本体”，PEFT 是“可插拔技能包”，那 TRL 就是“AI教练系统”。<br>它让机器人通过不断试错（比如写回答 → 被打分 → 改进）来变得越来越懂人类喜好，就像请了一位严厉但高效的私教，专门训练机器人“察言观色”。</p></li></ul><hr><h3 id=-三者如何协同工作整体比喻>🧩 三者如何协同工作？（整体比喻）</h3><p>想象你要打造一个<strong>会写小说的 AI 作家</strong>：</p><ol><li><strong>Transformers</strong>：你从 Hugging Face 下载一个已经读过千万本书的“文学青年”基础模型；</li><li><strong>PEFT（比如 LoRA）</strong>：你不想重训整个大脑，于是只在他“创意模块”上加一个小插件，专门学你的写作风格；</li><li><strong>TRL</strong>：你再请一位“AI 编辑”（奖励模型或偏好数据）给他每篇草稿打分，用 PPO 或 SPO 算法让他越写越符合读者口味。</li></ol><blockquote><p>这三个工具就像“身体 + 插件 + 教练”的黄金组合，既省资源，又效果好，而且<strong>完全兼容</strong>——Hugging Face 生态的设计哲学就是“乐高式拼装”。</p></blockquote><hr><h3 id=-一句话总结>✅ 一句话总结：</h3><ul><li><strong>Transformers</strong>：提供现成的大模型“躯体”；</li><li><strong>PEFT</strong>：用最小代价给躯体加“新技能”；</li><li><strong>TRL</strong>：用强化学习当“教练”，让 AI 越练越聪明。</li></ul><p>它们一起构成了现代大模型训练的“标准工具箱”。</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>yesplease</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2025-12-23</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><footer class=post-footer><div class=post-tags><a href=https://cugbtang.github.io/tags/transformers/>Transformers</a>
<a href=https://cugbtang.github.io/tags/peft/>PEFT</a>
<a href=https://cugbtang.github.io/tags/trl/>TRL</a>
<a href=https://cugbtang.github.io/tags/huggingface/>HuggingFace</a>
<a href=https://cugbtang.github.io/tags/lora/>LoRA</a>
<a href=https://cugbtang.github.io/tags/rlhf/>RLHF</a>
<a href=https://cugbtang.github.io/tags/dpo/>DPO</a>
<a href=https://cugbtang.github.io/tags/ppo/>PPO</a>
<a href=https://cugbtang.github.io/tags/%E5%8F%82%E6%95%B0%E9%AB%98%E6%95%88%E5%BE%AE%E8%B0%83/>参数高效微调</a></div><nav class=post-nav><a class=prev href=/post/coding/claude-code-introduction/><i class=iconfont><svg aria-hidden="true" class="lucide lucide-chevron-left hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="m15 18-6-6 6-6"/></svg>
</i><span class="prev-text nav-default">Chrome MCP 深度实战：解锁浏览器自动化新维度</span>
<span class="prev-text nav-mobile">Prev</span>
</a><a class=next href=/post/llm/llm-4/><span class="next-text nav-default">从预训练到蒸馏：深入解析大语言模型训练全流程</span>
<span class="prev-text nav-mobile">Next</span>
<i class=iconfont><svg aria-hidden="true" class="lucide lucide-chevron-right hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="m9 18 6-6-6-6"/></svg></i></a></nav></footer></article></div><aside class=right-sidebar></aside></div></main><footer id=footer class=site-footer><div class=social-icon-links><a href=mailto:cugbtang@sina.com rel="me noopener" class=social-icon-link title=email><svg aria-hidden="true" class="icon hi-svg-inline" fill="currentColor" height="1em" viewBox="0 0 1451 1024" width="1em" xlink="http://www.w3.org/1999/xlink"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408h399.992405s71.046998 3.997201 71.046998 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zm53.281707 130.131124C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523S0 1024 83.726336 1024H682.532949 753.579947h595.368192C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955c-39.771477 34.470494-74.671786 43.295855-98.955861 43.868928z"/></svg>
</a><a href=https://github.com/cugbtang rel="me noopener" class=social-icon-link title=github target=_blank><svg aria-hidden="true" class="icon hi-svg-inline" fill="currentColor" height="1em" viewBox="0 0 1024 1024" width="1em" xlink="http://www.w3.org/1999/xlink"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04C242.005334 929.664 211.968 830.08 211.968 830.08 188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg>
</a><a href=https://cugbtang.github.io/index.xml rel="noopener alternate" type=application/rss+xml class=social-icon-link title=rss target=_blank><svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span><span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a>
</span><span class=copyright-year>&copy;
2017 -
2026
<span class=heart><i class=iconfont><svg aria-hidden="true" class="lucide lucide-heart hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5.0 0016.5 3c-1.76.0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5.0 002 8.5c0 2.3 1.5 4.05 3 5.5l7 7z"/></svg>
</i></span><span class=author>yesplease</span></span></div></footer><script type=text/javascript src=/js/main.002d1a80e7bd914cb4592a8c6486c23920f3d9827531bd1c79b3b5716dcf0bd5.js integrity="sha256-AC0agOe9kUy0WSqMZIbCOSDz2YJ1Mb0cebO1cW3PC9U=" crossorigin=anonymous></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script></body></html>