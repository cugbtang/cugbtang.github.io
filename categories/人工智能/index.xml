<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>äººå·¥æ™ºèƒ½ on âœŒyesplease's blog</title><link>http://localhost:1313/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/</link><description>Recent content in äººå·¥æ™ºèƒ½ on âœŒyesplease's blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>cugbtang@sina.com (yesplease)</managingEditor><webMaster>cugbtang@sina.com (yesplease)</webMaster><lastBuildDate>Tue, 23 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="http://localhost:1313/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/index.xml" rel="self" type="application/rss+xml"/><item><title>Hugging Face ä¸‰å‰‘å®¢ï¼šTransformersã€PEFTã€TRL å®Œå…¨æŒ‡å—</title><link>http://localhost:1313/post/llm/llm-4.2/</link><pubDate>Tue, 23 Dec 2025 00:00:00 +0000</pubDate><author>cugbtang@sina.com (yesplease)</author><guid>http://localhost:1313/post/llm/llm-4.2/</guid><description>&lt;h1 id="å¤§æ¨¡å‹è®­ç»ƒçš„æ ‡å‡†å·¥å…·ç®±"&gt;å¤§æ¨¡å‹è®­ç»ƒçš„â€œæ ‡å‡†å·¥å…·ç®±â€&lt;/h1&gt;
&lt;p&gt;å½“ç„¶å¯ä»¥ï¼ä½ æåˆ°çš„ &lt;strong&gt;transformers&lt;/strong&gt;ã€&lt;strong&gt;trl&lt;/strong&gt;ã€&lt;strong&gt;peft&lt;/strong&gt; æ˜¯å½“å‰å¤§æ¨¡å‹ï¼ˆå°¤å…¶æ˜¯å¤§è¯­è¨€æ¨¡å‹ï¼‰å¼€å‘å’Œè®­ç»ƒä¸­éå¸¸ä¸»æµçš„ä¸‰ä¸ªå¼€æº Python åº“ï¼Œç”± Hugging Face åŠå…¶ç¤¾åŒºä¸»å¯¼ã€‚å®ƒä»¬å„è‡ªè§£å†³ä¸åŒç¯èŠ‚çš„é—®é¢˜ï¼Œä¸”é«˜åº¦å…¼å®¹ã€å¯ç»„åˆä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ç”¨&lt;strong&gt;ç®€å•è§£é‡Š + å½¢è±¡æ¯”å–»&lt;/strong&gt;çš„æ–¹å¼å¸®ä½ ç†è§£ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="1-transformers"&gt;1. &lt;strong&gt;Transformers&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸“ä¸šè§£é‡Š&lt;/strong&gt;ï¼š&lt;br&gt;
Hugging Face æä¾›çš„æ ¸å¿ƒåº“ï¼Œå°è£…äº†å¤§é‡é¢„è®­ç»ƒæ¨¡å‹ï¼ˆå¦‚ BERTã€GPTã€Llamaã€Qwen ç­‰ï¼‰çš„æ¶æ„ã€åŠ è½½æ–¹å¼å’Œæ¨ç†æ¥å£ã€‚ä½ å¯ä»¥è½»æ¾ä¸‹è½½ã€ä½¿ç”¨æˆ–å¾®è°ƒè¿™äº›æ¨¡å‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å–»&lt;/strong&gt;ï¼š&lt;br&gt;
å°±åƒä¸€ä¸ªâ€œæ™ºèƒ½æœºå™¨äººè¶…å¸‚â€â€”â€”é‡Œé¢æ‘†æ»¡äº†å„ç§ç°æˆçš„æœºå™¨äººï¼ˆæ¨¡å‹ï¼‰ï¼Œæœ‰çš„ä¼šå†™è¯—ï¼Œæœ‰çš„ä¼šç¿»è¯‘ï¼Œæœ‰çš„ä¼šç¼–ç¨‹ã€‚ä½ ä¸ç”¨ä»èºä¸é’‰å¼€å§‹é€ ï¼Œç›´æ¥é€‰ä¸€ä¸ªå¸¦å›å®¶ï¼Œæ’ç”µå°±èƒ½ç”¨ï¼Œè¿˜èƒ½è‡ªå·±æ”¹è£…ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="2-peftparameter-efficient-fine-tuningå‚æ•°é«˜æ•ˆå¾®è°ƒ"&gt;2. &lt;strong&gt;PEFTï¼ˆParameter-Efficient Fine-Tuningï¼Œå‚æ•°é«˜æ•ˆå¾®è°ƒï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸“ä¸šè§£é‡Š&lt;/strong&gt;ï¼š&lt;br&gt;
ä¸€ä¸ªä¸“æ³¨äº&lt;strong&gt;é«˜æ•ˆå¾®è°ƒ&lt;/strong&gt;çš„å·¥å…·åº“ï¼Œæ”¯æŒ LoRAã€Prefix Tuningã€Adapter ç­‰æŠ€æœ¯ã€‚å®ƒè®©ä½ åªè®­ç»ƒæ¨¡å‹çš„ä¸€å°éƒ¨åˆ†å‚æ•°ï¼ˆæ¯”å¦‚åŠ å‡ ä¸ªå°æ¨¡å—ï¼‰ï¼Œè€Œå†»ç»“åŸå§‹å¤§æ¨¡å‹ï¼Œå¤§å¹…èŠ‚çœæ˜¾å­˜å’Œç®—åŠ›ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å–»&lt;/strong&gt;ï¼š&lt;br&gt;
æƒ³ç»™ä¸€è¾†è±ªåè·‘è½¦ï¼ˆå¤§æ¨¡å‹ï¼‰åŠ è‡ªåŠ¨é©¾é©¶åŠŸèƒ½ã€‚ä¼ ç»Ÿæ–¹æ³•è¦æ‹†æ‰æ•´ä¸ªå¼•æ“é‡è£…ï¼ˆå…¨å‚æ•°å¾®è°ƒï¼‰ï¼Œè´¹æ—¶è´¹é’±ï¼›&lt;br&gt;
è€Œ PEFT å°±åƒåªåœ¨æ–¹å‘ç›˜ä¸ŠåŠ ä¸€ä¸ªâ€œæ™ºèƒ½è¾…åŠ©å¥—ä»¶â€ï¼ˆLoRA æ¨¡å—ï¼‰ï¼Œä¸åŠ¨åŸè½¦ç»“æ„ï¼Œä¾¿å®œåˆå¿«ï¼Œæ•ˆæœè¿˜ä¸å·®ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="3-trltransformer-reinforcement-learning"&gt;3. &lt;strong&gt;TRLï¼ˆTransformer Reinforcement Learningï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸“ä¸šè§£é‡Š&lt;/strong&gt;ï¼š&lt;br&gt;
ä¸“ä¸º&lt;strong&gt;ç”¨å¼ºåŒ–å­¦ä¹ è®­ç»ƒè¯­è¨€æ¨¡å‹&lt;/strong&gt;è®¾è®¡çš„åº“ï¼Œæ”¯æŒ PPOã€DPOã€SPOã€GRPO ç­‰ç®—æ³•ï¼Œå¸¸ç”¨äº RLHF æˆ– RLAIF é˜¶æ®µã€‚å®ƒåŸºäº Transformers å’Œ PEFT æ„å»ºï¼Œèƒ½æ— ç¼å¯¹æ¥é¢„è®­ç»ƒæ¨¡å‹å’Œé«˜æ•ˆå¾®è°ƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å–»&lt;/strong&gt;ï¼š&lt;br&gt;
å¦‚æœè¯´ Transformers æ˜¯â€œæœºå™¨äººæœ¬ä½“â€ï¼ŒPEFT æ˜¯â€œå¯æ’æ‹”æŠ€èƒ½åŒ…â€ï¼Œé‚£ TRL å°±æ˜¯â€œAIæ•™ç»ƒç³»ç»Ÿâ€ã€‚&lt;br&gt;
å®ƒè®©æœºå™¨äººé€šè¿‡ä¸æ–­è¯•é”™ï¼ˆæ¯”å¦‚å†™å›ç­” â†’ è¢«æ‰“åˆ† â†’ æ”¹è¿›ï¼‰æ¥å˜å¾—è¶Šæ¥è¶Šæ‡‚äººç±»å–œå¥½ï¼Œå°±åƒè¯·äº†ä¸€ä½ä¸¥å‰ä½†é«˜æ•ˆçš„ç§æ•™ï¼Œä¸“é—¨è®­ç»ƒæœºå™¨äººâ€œå¯Ÿè¨€è§‚è‰²â€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸‰è€…å¦‚ä½•ååŒå·¥ä½œæ•´ä½“æ¯”å–»"&gt;ğŸ§© ä¸‰è€…å¦‚ä½•ååŒå·¥ä½œï¼Ÿï¼ˆæ•´ä½“æ¯”å–»ï¼‰&lt;/h3&gt;
&lt;p&gt;æƒ³è±¡ä½ è¦æ‰“é€ ä¸€ä¸ª&lt;strong&gt;ä¼šå†™å°è¯´çš„ AI ä½œå®¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Transformers&lt;/strong&gt;ï¼šä½ ä» Hugging Face ä¸‹è½½ä¸€ä¸ªå·²ç»è¯»è¿‡åƒä¸‡æœ¬ä¹¦çš„â€œæ–‡å­¦é’å¹´â€åŸºç¡€æ¨¡å‹ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PEFTï¼ˆæ¯”å¦‚ LoRAï¼‰&lt;/strong&gt;ï¼šä½ ä¸æƒ³é‡è®­æ•´ä¸ªå¤§è„‘ï¼Œäºæ˜¯åªåœ¨ä»–â€œåˆ›æ„æ¨¡å—â€ä¸ŠåŠ ä¸€ä¸ªå°æ’ä»¶ï¼Œä¸“é—¨å­¦ä½ çš„å†™ä½œé£æ ¼ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TRL&lt;/strong&gt;ï¼šä½ å†è¯·ä¸€ä½â€œAI ç¼–è¾‘â€ï¼ˆå¥–åŠ±æ¨¡å‹æˆ–åå¥½æ•°æ®ï¼‰ç»™ä»–æ¯ç¯‡è‰ç¨¿æ‰“åˆ†ï¼Œç”¨ PPO æˆ– SPO ç®—æ³•è®©ä»–è¶Šå†™è¶Šç¬¦åˆè¯»è€…å£å‘³ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸‰ä¸ªå·¥å…·å°±åƒâ€œèº«ä½“ + æ’ä»¶ + æ•™ç»ƒâ€çš„é»„é‡‘ç»„åˆï¼Œæ—¢çœèµ„æºï¼Œåˆæ•ˆæœå¥½ï¼Œè€Œä¸”&lt;strong&gt;å®Œå…¨å…¼å®¹&lt;/strong&gt;â€”â€”Hugging Face ç”Ÿæ€çš„è®¾è®¡å“²å­¦å°±æ˜¯â€œä¹é«˜å¼æ‹¼è£…â€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸€å¥è¯æ€»ç»“"&gt;âœ… ä¸€å¥è¯æ€»ç»“ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Transformers&lt;/strong&gt;ï¼šæä¾›ç°æˆçš„å¤§æ¨¡å‹â€œèº¯ä½“â€ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PEFT&lt;/strong&gt;ï¼šç”¨æœ€å°ä»£ä»·ç»™èº¯ä½“åŠ â€œæ–°æŠ€èƒ½â€ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TRL&lt;/strong&gt;ï¼šç”¨å¼ºåŒ–å­¦ä¹ å½“â€œæ•™ç»ƒâ€ï¼Œè®© AI è¶Šç»ƒè¶Šèªæ˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®ƒä»¬ä¸€èµ·æ„æˆäº†ç°ä»£å¤§æ¨¡å‹è®­ç»ƒçš„â€œæ ‡å‡†å·¥å…·ç®±â€ã€‚&lt;/p&gt;</description></item><item><title>ä»é¢„è®­ç»ƒåˆ°è’¸é¦ï¼šæ·±å…¥è§£æå¤§è¯­è¨€æ¨¡å‹è®­ç»ƒå…¨æµç¨‹</title><link>http://localhost:1313/post/llm/llm-4/</link><pubDate>Tue, 23 Dec 2025 00:00:00 +0000</pubDate><author>cugbtang@sina.com (yesplease)</author><guid>http://localhost:1313/post/llm/llm-4/</guid><description>&lt;p&gt;åœ¨äººå·¥æ™ºèƒ½å¿«é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLarge Language Models, LLMsï¼‰å·²ç»æˆä¸ºæŠ€æœ¯åˆ›æ–°çš„æ ¸å¿ƒé©±åŠ¨åŠ›ã€‚ä»GPTç³»åˆ—åˆ°Llamaï¼Œä»ChatGLMåˆ°Qwenï¼Œè¿™äº›å¼ºå¤§çš„æ¨¡å‹èƒŒåéƒ½éµå¾ªç€ä¸€å¥—ç²¾å¿ƒè®¾è®¡çš„è®­ç»ƒæµç¨‹ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªç°ä»£åŒ–å¤§è¯­è¨€æ¨¡å‹çš„å®Œæ•´æµç¨‹ï¼Œæ­ç¤ºæ¯ä¸ªé˜¶æ®µçš„æŠ€æœ¯åŸç†å’Œå®è·µä»·å€¼ã€‚&lt;/p&gt;
&lt;h2 id="ä¸€åŸºç¡€æ„å»ºpretrainé¢„è®­ç»ƒ"&gt;ä¸€ã€åŸºç¡€æ„å»ºï¼šPretrainï¼ˆé¢„è®­ç»ƒï¼‰&lt;/h2&gt;
&lt;h3 id="æŠ€æœ¯åŸç†æ·±åº¦è§£æ"&gt;æŠ€æœ¯åŸç†æ·±åº¦è§£æ&lt;/h3&gt;
&lt;p&gt;é¢„è®­ç»ƒæ˜¯å¤§è¯­è¨€æ¨¡å‹çš„&lt;strong&gt;å¥ åŸºé˜¶æ®µ&lt;/strong&gt;ï¼Œæ¨¡å‹é€šè¿‡åœ¨TBçº§åˆ«çš„æ— æ ‡æ³¨æ–‡æœ¬ä¸Šè¿›è¡Œè‡ªç›‘ç£å­¦ä¹ ï¼ŒæŒæ¡è¯­è¨€çš„ç»Ÿè®¡è§„å¾‹å’Œä¸–ç•ŒçŸ¥è¯†ã€‚è¿™ä¸€è¿‡ç¨‹å¯ä»¥çœ‹ä½œæ˜¯åœ¨æµ·é‡æ•°æ®ä¸­æŒ–æ˜è¯­è¨€çš„&lt;strong&gt;æ½œåœ¨ç»“æ„&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id="æ ¸å¿ƒè®­ç»ƒä»»åŠ¡"&gt;æ ¸å¿ƒè®­ç»ƒä»»åŠ¡&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è‡ªå›å½’è¯­è¨€å»ºæ¨¡ï¼ˆAutoregressive LMï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•°å­¦å½¢å¼&lt;/strong&gt;ï¼š$P(x_1, x_2, &amp;hellip;, x_n) = \prod_{i=1}^n P(x_i | x_{&amp;lt;i})$&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»£è¡¨æ¨¡å‹&lt;/strong&gt;ï¼šGPTç³»åˆ—ã€Llamaã€Qwen&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼šè‡ªç„¶é€‚åˆæ–‡æœ¬ç”Ÿæˆï¼Œå› æœæ³¨æ„åŠ›æœºåˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ©ç è¯­è¨€å»ºæ¨¡ï¼ˆMasked LMï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•°å­¦å½¢å¼&lt;/strong&gt;ï¼š$P(x_{masked} | x_{observed})$&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»£è¡¨æ¨¡å‹&lt;/strong&gt;ï¼šBERTã€RoBERTa&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼šåŒå‘ä¸Šä¸‹æ–‡ç†è§£ï¼Œé€‚åˆåˆ†ç±»å’Œè¡¨å¾ä»»åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ··åˆè®­ç»ƒç­–ç•¥&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;T5æ¡†æ¶&lt;/strong&gt;ï¼šå°†æ‰€æœ‰NLPä»»åŠ¡ç»Ÿä¸€ä¸ºæ–‡æœ¬åˆ°æ–‡æœ¬è½¬æ¢&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UL2&lt;/strong&gt;ï¼šç»Ÿä¸€å¤šç§å»å™ªç›®æ ‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GLM&lt;/strong&gt;ï¼šç»“åˆè‡ªå›å½’å’Œè‡ªç¼–ç ä¼˜åŠ¿&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="å…³é”®æŠ€æœ¯å‚æ•°"&gt;å…³é”®æŠ€æœ¯å‚æ•°&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®è§„æ¨¡&lt;/strong&gt;ï¼šç°ä»£å¤§æ¨¡å‹é€šå¸¸è®­ç»ƒåœ¨1-10ä¸‡äº¿tokençš„æ•°æ®é›†ä¸Š&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¨¡å‹å‚æ•°&lt;/strong&gt;ï¼šä»70äº¿åˆ°7000äº¿å‚æ•°ä¸ç­‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®­ç»ƒæ—¶é•¿&lt;/strong&gt;ï¼šæ•°åƒåˆ°æ•°ä¸‡GPUå¤©ï¼ˆA100/H100çº§åˆ«ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–å™¨&lt;/strong&gt;ï¼šAdamWã€Adafactorç­‰è‡ªé€‚åº”ä¼˜åŒ–ç®—æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="å®é™…åº”ç”¨ä¸æŒ‘æˆ˜"&gt;å®é™…åº”ç”¨ä¸æŒ‘æˆ˜&lt;/h3&gt;
&lt;h4 id="æ•°æ®å·¥ç¨‹å®è·µ"&gt;æ•°æ®å·¥ç¨‹å®è·µ&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ç°ä»£é¢„è®­ç»ƒæ•°æ®å¤„ç†æµç¨‹ç¤ºä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;preprocess_pretraining_data&lt;/span&gt;(texts):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# 1. è´¨é‡è¿‡æ»¤ï¼ˆå»é™¤ä½è´¨é‡å†…å®¹ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; texts &lt;span style="color:#f92672"&gt;=&lt;/span&gt; filter_by_quality(texts)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# 2. å»é‡ï¼ˆé¿å…è®°å¿†åå·®ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; texts &lt;span style="color:#f92672"&gt;=&lt;/span&gt; deduplicate(texts)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# 3. å¤šè¯­è¨€æ··åˆï¼ˆå¦‚æœæ”¯æŒå¤šè¯­è¨€ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; texts &lt;span style="color:#f92672"&gt;=&lt;/span&gt; mix_languages(texts)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# 4. é¢†åŸŸå¹³è¡¡ï¼ˆç¡®ä¿çŸ¥è¯†è¦†ç›–å…¨é¢ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; texts &lt;span style="color:#f92672"&gt;=&lt;/span&gt; balance_domains(texts)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; texts&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="è®­ç»ƒä¼˜åŒ–æŠ€æœ¯"&gt;è®­ç»ƒä¼˜åŒ–æŠ€æœ¯&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ··åˆç²¾åº¦è®­ç»ƒ&lt;/strong&gt;ï¼šFP16/BF16å‡å°‘æ˜¾å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¢¯åº¦ç´¯ç§¯&lt;/strong&gt;ï¼šæ¨¡æ‹Ÿæ›´å¤§æ‰¹é‡è®­ç»ƒ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¿€æ´»æ£€æŸ¥ç‚¹&lt;/strong&gt;ï¼šç‰ºç‰²è®¡ç®—æ—¶é—´æ¢å–æ˜¾å­˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ZeROä¼˜åŒ–&lt;/strong&gt;ï¼šåˆ†å¸ƒå¼è®­ç»ƒä¸­çš„å‚æ•°åˆ†ç‰‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="è¡Œä¸šæœ€ä½³å®è·µ"&gt;è¡Œä¸šæœ€ä½³å®è·µ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Metaçš„Llamaç³»åˆ—&lt;/strong&gt;ï¼šå¼ºè°ƒé«˜è´¨é‡æ•°æ®ç­›é€‰å’Œè§„æ¨¡åŒ–è®­ç»ƒ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Googleçš„PaLM&lt;/strong&gt;ï¼šæ¢ç´¢è·¯å¾„waysï¼ˆPathwaysï¼‰æ¶æ„å’ŒæŒ‡ä»¤è°ƒä¼˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OpenAIçš„GPTç³»åˆ—&lt;/strong&gt;ï¼šé€æ­¥æ‰©å¤§è§„æ¨¡ä¸æ”¹è¿›è®­ç»ƒç¨³å®šæ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æŠ€æœ¯æ´å¯Ÿ&lt;/strong&gt;ï¼šé¢„è®­ç»ƒé˜¶æ®µä¸ä»…å†³å®šäº†æ¨¡å‹çš„&lt;strong&gt;èƒ½åŠ›ä¸Šé™&lt;/strong&gt;ï¼Œä¹Ÿå½±å“äº†åç»­å¾®è°ƒçš„&lt;strong&gt;éš¾æ˜“ç¨‹åº¦&lt;/strong&gt;ã€‚é«˜è´¨é‡ã€å¤šæ ·åŒ–çš„è®­ç»ƒæ•°æ®æ˜¯æˆåŠŸçš„å…³é”®ã€‚&lt;/p&gt;
&lt;h2 id="äºŒæŒ‡ä»¤å¯¹é½sftç›‘ç£å¾®è°ƒ"&gt;äºŒã€æŒ‡ä»¤å¯¹é½ï¼šSFTï¼ˆç›‘ç£å¾®è°ƒï¼‰&lt;/h2&gt;
&lt;h3 id="æŠ€æœ¯åŸç†æ·±åº¦è§£æ-1"&gt;æŠ€æœ¯åŸç†æ·±åº¦è§£æ&lt;/h3&gt;
&lt;p&gt;SFTï¼ˆSupervised Fine-Tuningï¼‰æ˜¯å°†é€šç”¨è¯­è¨€æ¨¡å‹è½¬åŒ–ä¸ºæœ‰ç”¨åŠ©æ‰‹çš„&lt;strong&gt;å…³é”®è½¬æ¢ç‚¹&lt;/strong&gt;ã€‚è¿™ä¸€é˜¶æ®µé€šè¿‡é«˜è´¨é‡çš„äººå·¥æ ‡æ³¨æ•°æ®ï¼Œå°†æ¨¡å‹çš„&lt;strong&gt;çŸ¥è¯†èƒ½åŠ›&lt;/strong&gt;è½¬åŒ–ä¸º&lt;strong&gt;æ‰§è¡Œèƒ½åŠ›&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id="æ•°å­¦åŸºç¡€"&gt;æ•°å­¦åŸºç¡€&lt;/h4&gt;
&lt;p&gt;ç›‘ç£å¾®è°ƒçš„æ ¸å¿ƒæ˜¯æœ€å°åŒ–&lt;strong&gt;äº¤å‰ç†µæŸå¤±&lt;/strong&gt;ï¼š
$$
\mathcal{L}&lt;em&gt;{SFT} = -\sum&lt;/em&gt;{i=1}^N \log P(y_i | x_i, \theta)
$$
å…¶ä¸­$(x_i, y_i)$æ˜¯æŒ‡ä»¤-å›ç­”å¯¹ï¼Œ$\theta$æ˜¯æ¨¡å‹å‚æ•°ã€‚&lt;/p&gt;
&lt;h4 id="æ•°æ®å·¥ç¨‹çš„æœ€ä½³å®è·µ"&gt;æ•°æ®å·¥ç¨‹çš„æœ€ä½³å®è·µ&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æŒ‡ä»¤å¤šæ ·æ€§&lt;/strong&gt;ï¼šè¦†ç›–å¤šç§ä»»åŠ¡ç±»å‹ï¼ˆé—®ç­”ã€åˆ›ä½œã€åˆ†æã€ç¼–ç¨‹ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é£æ ¼ä¸€è‡´æ€§&lt;/strong&gt;ï¼šç¡®ä¿å›ç­”é£æ ¼ç¬¦åˆç›®æ ‡åº”ç”¨åœºæ™¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éš¾åº¦æ¢¯åº¦&lt;/strong&gt;ï¼šåŒ…å«ä»ç®€å•åˆ°å¤æ‚çš„ä»»åŠ¡åºåˆ—&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šè½®å¯¹è¯&lt;/strong&gt;ï¼šè®­ç»ƒæ¨¡å‹çš„å¤šè½®äº¤äº’èƒ½åŠ›&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="é«˜è´¨é‡sftæ•°æ®ç‰¹å¾"&gt;é«˜è´¨é‡SFTæ•°æ®ç‰¹å¾&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# è¯„ä¼°SFTæ•°æ®è´¨é‡çš„ç»´åº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;evaluate_sft_data_quality&lt;/span&gt;(samples):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; quality_scores &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;instruction_clarity&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.0&lt;/span&gt;, &lt;span style="color:#75715e"&gt;# æŒ‡ä»¤æ¸…æ™°åº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;answer_correctness&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.0&lt;/span&gt;, &lt;span style="color:#75715e"&gt;# å›ç­”æ­£ç¡®æ€§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;completeness&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.0&lt;/span&gt;, &lt;span style="color:#75715e"&gt;# å›ç­”å®Œæ•´æ€§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;style_consistency&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.0&lt;/span&gt;, &lt;span style="color:#75715e"&gt;# é£æ ¼ä¸€è‡´æ€§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;task_diversity&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.0&lt;/span&gt;, &lt;span style="color:#75715e"&gt;# ä»»åŠ¡å¤šæ ·æ€§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;difficulty_level&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.0&lt;/span&gt; &lt;span style="color:#75715e"&gt;# éš¾åº¦ç­‰çº§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; sample &lt;span style="color:#f92672"&gt;in&lt;/span&gt; samples:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# åˆ†ææ¯ä¸ªæ ·æœ¬çš„è´¨é‡ç»´åº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; quality_scores &lt;span style="color:#f92672"&gt;=&lt;/span&gt; analyze_sample(sample, quality_scores)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; calculate_overall_quality(quality_scores)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id="å®é™…åº”ç”¨æ¡ˆä¾‹"&gt;å®é™…åº”ç”¨æ¡ˆä¾‹&lt;/h3&gt;
&lt;h4 id="æ¡ˆä¾‹1ä»£ç ç”Ÿæˆèƒ½åŠ›è®­ç»ƒ"&gt;æ¡ˆä¾‹1ï¼šä»£ç ç”Ÿæˆèƒ½åŠ›è®­ç»ƒ&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;instruction&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;å®ç°ä¸€ä¸ªLRUç¼“å­˜ç®—æ³•ï¼Œè¦æ±‚æ—¶é—´å¤æ‚åº¦O(1)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;input&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;output&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;class LRUCache:\n def __init__(self, capacity: int):\n self.capacity = capacity\n self.cache = OrderedDict()\n \n def get(self, key: int) -&amp;gt; int:\n if key not in self.cache:\n return -1\n self.cache.move_to_end(key)\n return self.cache[key]\n \n def put(self, key: int, value: int) -&amp;gt; None:\n if key in self.cache:\n self.cache.move_to_end(key)\n self.cache[key] = value\n if len(self.cache) &amp;gt; self.capacity:\n self.cache.popitem(last=False)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="æ¡ˆä¾‹2å¤šè½®å¯¹è¯è®­ç»ƒ"&gt;æ¡ˆä¾‹2ï¼šå¤šè½®å¯¹è¯è®­ç»ƒ&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;conversation&amp;#34;&lt;/span&gt;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {&lt;span style="color:#f92672"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;user&amp;#34;&lt;/span&gt;, &lt;span style="color:#f92672"&gt;&amp;#34;content&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;å¸®æˆ‘åˆ¶å®šä¸€ä¸ªå­¦ä¹ Pythonçš„è®¡åˆ’&amp;#34;&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {&lt;span style="color:#f92672"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;assistant&amp;#34;&lt;/span&gt;, &lt;span style="color:#f92672"&gt;&amp;#34;content&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;å½“ç„¶ï¼ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¸ºæœŸä¸€ä¸ªæœˆçš„Pythonå­¦ä¹ è®¡åˆ’...&amp;#34;&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {&lt;span style="color:#f92672"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;user&amp;#34;&lt;/span&gt;, &lt;span style="color:#f92672"&gt;&amp;#34;content&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;ç¬¬ä¸€å‘¨å…·ä½“å­¦ä»€ä¹ˆï¼Ÿ&amp;#34;&lt;/span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {&lt;span style="color:#f92672"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;assistant&amp;#34;&lt;/span&gt;, &lt;span style="color:#f92672"&gt;&amp;#34;content&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;ç¬¬ä¸€å‘¨å»ºè®®é‡ç‚¹æŒæ¡åŸºç¡€è¯­æ³•ï¼š\n1. å˜é‡å’Œæ•°æ®ç±»å‹\n2. æ¡ä»¶è¯­å¥å’Œå¾ªç¯\n3. å‡½æ•°å®šä¹‰å’Œä½¿ç”¨\n4. åˆ—è¡¨ã€å­—å…¸ç­‰æ•°æ®ç»“æ„&amp;#34;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id="è®­ç»ƒç­–ç•¥ä¼˜åŒ–"&gt;è®­ç»ƒç­–ç•¥ä¼˜åŒ–&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¯¾ç¨‹å­¦ä¹ ï¼ˆCurriculum Learningï¼‰&lt;/strong&gt;ï¼šä»ç®€å•ä»»åŠ¡å¼€å§‹ï¼Œé€æ­¥å¢åŠ éš¾åº¦&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šä»»åŠ¡å­¦ä¹ &lt;/strong&gt;ï¼šåŒæ—¶è®­ç»ƒå¤šä¸ªç›¸å…³ä»»åŠ¡ï¼Œæå‡æ³›åŒ–èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å¢å¼º&lt;/strong&gt;ï¼šé€šè¿‡æ”¹å†™ã€ç¿»è¯‘ç­‰æ–¹å¼æ‰©å……æ•°æ®é›†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ—©åœç­–ç•¥&lt;/strong&gt;ï¼šé˜²æ­¢è¿‡æ‹Ÿåˆåˆ°è®­ç»ƒæ•°æ®åˆ†å¸ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ"&gt;å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¾éš¾æ€§é—å¿˜&lt;/strong&gt;ï¼šä½¿ç”¨LoRAæˆ–ä¿ç•™éƒ¨åˆ†é¢„è®­ç»ƒæŸå¤±&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿‡æ‹Ÿåˆ&lt;/strong&gt;ï¼šå¢åŠ æ­£åˆ™åŒ–ã€æ•°æ®å¢å¼ºã€æ—©åœ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŒ‡ä»¤è·Ÿéšåå·®&lt;/strong&gt;ï¼šå¹³è¡¡ä¸åŒæŒ‡ä»¤ç±»å‹çš„åˆ†å¸ƒ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¾“å‡ºé•¿åº¦åå·®&lt;/strong&gt;ï¼šæ§åˆ¶å›ç­”é•¿åº¦çš„å¤šæ ·æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æŠ€æœ¯æ´å¯Ÿ&lt;/strong&gt;ï¼šSFTä¸ä»…æ˜¯&lt;strong&gt;æŠ€æœ¯è¿‡ç¨‹&lt;/strong&gt;ï¼Œæ›´æ˜¯&lt;strong&gt;è®¾è®¡è¿‡ç¨‹&lt;/strong&gt;ã€‚ä¼˜ç§€çš„SFTæ•°æ®åº”è¯¥åƒç²¾å¿ƒè®¾è®¡çš„æ•™æï¼Œå¼•å¯¼æ¨¡å‹å­¦ä¹ äººç±»æœŸæœ›çš„è¡Œä¸ºæ¨¡å¼ã€‚æ•°æ®è´¨é‡æ¯”æ•°æ®æ•°é‡æ›´é‡è¦ï¼Œ1000ä¸ªé«˜è´¨é‡æ ·æœ¬å¯èƒ½èƒœè¿‡10000ä¸ªä½è´¨é‡æ ·æœ¬ã€‚&lt;/p&gt;
&lt;h2 id="ä¸‰é«˜æ•ˆé€‚é…loraä½ç§©é€‚é…"&gt;ä¸‰ã€é«˜æ•ˆé€‚é…ï¼šLoRAï¼ˆä½ç§©é€‚é…ï¼‰&lt;/h2&gt;
&lt;h3 id="æŠ€æœ¯çªç ´æ·±åº¦è§£æ"&gt;æŠ€æœ¯çªç ´æ·±åº¦è§£æ&lt;/h3&gt;
&lt;p&gt;LoRAï¼ˆLow-Rank Adaptationï¼‰æ˜¯è¿‘å¹´æ¥&lt;strong&gt;å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFTï¼‰&lt;/strong&gt; é¢†åŸŸæœ€é‡è¦çš„çªç ´ä¹‹ä¸€ã€‚å®ƒåŸºäºä¸€ä¸ªæ ¸å¿ƒå‡è®¾ï¼šæ¨¡å‹åœ¨é€‚åº”æ–°ä»»åŠ¡æ—¶ï¼Œæƒé‡å˜åŒ–å…·æœ‰&lt;strong&gt;ä½ç§©ç‰¹æ€§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id="æ•°å­¦åŸç†è¯¦è§£"&gt;æ•°å­¦åŸç†è¯¦è§£&lt;/h4&gt;
&lt;p&gt;LoRAçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†æƒé‡æ›´æ–°åˆ†è§£ä¸ºä¸¤ä¸ªä½ç§©çŸ©é˜µçš„ä¹˜ç§¯ï¼š
$$
\Delta W = BA \quad \text{å…¶ä¸­} \quad B \in \mathbb{R}^{d \times r}, A \in \mathbb{R}^{r \times k}
$$
å…¶ä¸­$r \ll \min(d, k)$æ˜¯ç§©ï¼ˆé€šå¸¸ä¸º4-64ï¼‰ï¼Œè¿™ä½¿å¾—å¯è®­ç»ƒå‚æ•°æ•°é‡ä»$d \times k$å‡å°‘åˆ°$r \times (d + k)$ã€‚&lt;/p&gt;
&lt;h4 id="ç†è®ºä¼˜åŠ¿"&gt;ç†è®ºä¼˜åŠ¿&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å‚æ•°æ•ˆç‡&lt;/strong&gt;ï¼šä»…éœ€å¾®è°ƒåŸæ¨¡å‹0.1%-1%çš„å‚æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜ä¼˜åŒ–&lt;/strong&gt;ï¼šè®­ç»ƒæ—¶ä»…éœ€å­˜å‚¨ä½ç§©çŸ©é˜µï¼Œæ¨ç†æ—¶å¯åˆå¹¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¨¡å—åŒ–è®¾è®¡&lt;/strong&gt;ï¼šæ”¯æŒå¤šä¸ªç‹¬ç«‹é€‚é…å™¨çš„ç»„åˆä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çŸ¥è¯†ä¿ç•™&lt;/strong&gt;ï¼šä¿æŒåŸå§‹æƒé‡ä¸å˜ï¼Œé¿å…ç¾éš¾æ€§é—å¿˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="å®é™…å®ç°ä¸ä¼˜åŒ–"&gt;å®é™…å®ç°ä¸ä¼˜åŒ–&lt;/h3&gt;
&lt;h4 id="å®Œæ•´loraå®ç°"&gt;å®Œæ•´LoRAå®ç°&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;import&lt;/span&gt; torch
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;import&lt;/span&gt; torch.nn &lt;span style="color:#66d9ef"&gt;as&lt;/span&gt; nn
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;import&lt;/span&gt; torch.nn.functional &lt;span style="color:#66d9ef"&gt;as&lt;/span&gt; F
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;class&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;LoRALayer&lt;/span&gt;(nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;Module):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;å®Œæ•´çš„LoRAå±‚å®ç°&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;__init__&lt;/span&gt;(self,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; original_layer: nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;Module,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; rank: int &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;8&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; alpha: float &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;16.0&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; dropout: float &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;0.1&lt;/span&gt;):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; super()&lt;span style="color:#f92672"&gt;.&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;__init__&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;original_layer &lt;span style="color:#f92672"&gt;=&lt;/span&gt; original_layer
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;rank &lt;span style="color:#f92672"&gt;=&lt;/span&gt; rank
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;alpha &lt;span style="color:#f92672"&gt;=&lt;/span&gt; alpha
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;scaling &lt;span style="color:#f92672"&gt;=&lt;/span&gt; alpha &lt;span style="color:#f92672"&gt;/&lt;/span&gt; rank
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# å†»ç»“åŸå§‹å±‚å‚æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; param &lt;span style="color:#f92672"&gt;in&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;original_layer&lt;span style="color:#f92672"&gt;.&lt;/span&gt;parameters():
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; param&lt;span style="color:#f92672"&gt;.&lt;/span&gt;requires_grad &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# è·å–åŸå§‹å±‚ç»´åº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; isinstance(original_layer, nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;Linear):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; in_features &lt;span style="color:#f92672"&gt;=&lt;/span&gt; original_layer&lt;span style="color:#f92672"&gt;.&lt;/span&gt;in_features
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; out_features &lt;span style="color:#f92672"&gt;=&lt;/span&gt; original_layer&lt;span style="color:#f92672"&gt;.&lt;/span&gt;out_features
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;elif&lt;/span&gt; isinstance(original_layer, nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;Conv2d):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; in_features &lt;span style="color:#f92672"&gt;=&lt;/span&gt; original_layer&lt;span style="color:#f92672"&gt;.&lt;/span&gt;in_channels
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; out_features &lt;span style="color:#f92672"&gt;=&lt;/span&gt; original_layer&lt;span style="color:#f92672"&gt;.&lt;/span&gt;out_channels
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;raise&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;ValueError&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;f&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;Unsupported layer type: &lt;/span&gt;&lt;span style="color:#e6db74"&gt;{&lt;/span&gt;type(original_layer)&lt;span style="color:#e6db74"&gt;}&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# åˆå§‹åŒ–LoRAçŸ©é˜µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_A &lt;span style="color:#f92672"&gt;=&lt;/span&gt; nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;Parameter(torch&lt;span style="color:#f92672"&gt;.&lt;/span&gt;randn(in_features, rank))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_B &lt;span style="color:#f92672"&gt;=&lt;/span&gt; nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;Parameter(torch&lt;span style="color:#f92672"&gt;.&lt;/span&gt;zeros(rank, out_features))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;dropout &lt;span style="color:#f92672"&gt;=&lt;/span&gt; nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;Dropout(dropout)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# åˆå§‹åŒ–ç­–ç•¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;init&lt;span style="color:#f92672"&gt;.&lt;/span&gt;kaiming_uniform_(self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_A, a&lt;span style="color:#f92672"&gt;=&lt;/span&gt;math&lt;span style="color:#f92672"&gt;.&lt;/span&gt;sqrt(&lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;init&lt;span style="color:#f92672"&gt;.&lt;/span&gt;zeros_(self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_B)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;forward&lt;/span&gt;(self, x):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; original_output &lt;span style="color:#f92672"&gt;=&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;original_layer(x)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# LoRAæ›´æ–°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; lora_update &lt;span style="color:#f92672"&gt;=&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;dropout(x) &lt;span style="color:#f92672"&gt;@&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_A &lt;span style="color:#f92672"&gt;@&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_B
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; lora_update &lt;span style="color:#f92672"&gt;=&lt;/span&gt; lora_update &lt;span style="color:#f92672"&gt;*&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;scaling
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; original_output &lt;span style="color:#f92672"&gt;+&lt;/span&gt; lora_update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;merge_weights&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;å°†LoRAæƒé‡åˆå¹¶åˆ°åŸå§‹å±‚ä¸­ï¼ˆç”¨äºæ¨ç†ä¼˜åŒ–ï¼‰&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; isinstance(self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;original_layer, nn&lt;span style="color:#f92672"&gt;.&lt;/span&gt;Linear):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; delta_w &lt;span style="color:#f92672"&gt;=&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_A &lt;span style="color:#f92672"&gt;@&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_B &lt;span style="color:#f92672"&gt;*&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;scaling
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;original_layer&lt;span style="color:#f92672"&gt;.&lt;/span&gt;weight&lt;span style="color:#f92672"&gt;.&lt;/span&gt;data &lt;span style="color:#f92672"&gt;+=&lt;/span&gt; delta_w&lt;span style="color:#f92672"&gt;.&lt;/span&gt;T
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# å…¶ä»–å±‚ç±»å‹çš„åˆå¹¶é€»è¾‘...&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="é«˜çº§ä¼˜åŒ–æŠ€å·§"&gt;é«˜çº§ä¼˜åŒ–æŠ€å·§&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç§©é€‰æ‹©ç­–ç•¥&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å°æ¨¡å‹/ç®€å•ä»»åŠ¡&lt;/strong&gt;ï¼šrank=4-8&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸­ç­‰æ¨¡å‹/ä¸­ç­‰ä»»åŠ¡&lt;/strong&gt;ï¼šrank=8-16&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤§æ¨¡å‹/å¤æ‚ä»»åŠ¡&lt;/strong&gt;ï¼šrank=16-32&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç›®æ ‡å±‚é€‰æ‹©&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„åŠ›å±‚&lt;/strong&gt;ï¼šQã€Kã€Vã€OæŠ•å½±çŸ©é˜µ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FFNå±‚&lt;/strong&gt;ï¼šä¸ŠæŠ•å½±å’Œä¸‹æŠ•å½±çŸ©é˜µ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¨è¿æ¥å±‚&lt;/strong&gt;ï¼šåˆ†ç±»å¤´ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®­ç»ƒç­–ç•¥&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åˆ†å±‚å­¦ä¹ ç‡&lt;/strong&gt;ï¼šä¸ºä¸åŒå±‚è®¾ç½®ä¸åŒçš„å­¦ä¹ ç‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¸è¿›å¼è§£å†»&lt;/strong&gt;ï¼šé€æ­¥è§£å†»æ›´å¤šå±‚è¿›è¡Œå¾®è°ƒ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚é…å™¨ç»„åˆ&lt;/strong&gt;ï¼šå¤šä¸ªLoRAé€‚é…å™¨çš„åŠ æƒç»„åˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="åº”ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ"&gt;åº”ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ&lt;/h3&gt;
&lt;h4 id="åœºæ™¯1å¤šä»»åŠ¡å¿«é€Ÿé€‚é…"&gt;åœºæ™¯1ï¼šå¤šä»»åŠ¡å¿«é€Ÿé€‚é…&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ä¸ºä¸åŒä»»åŠ¡è®­ç»ƒç‹¬ç«‹çš„LoRAé€‚é…å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;class&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;MultiTaskLoRA&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;__init__&lt;/span&gt;(self, base_model, tasks):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;base_model &lt;span style="color:#f92672"&gt;=&lt;/span&gt; base_model
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_adapters &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; task &lt;span style="color:#f92672"&gt;in&lt;/span&gt; tasks:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# ä¸ºæ¯ä¸ªä»»åŠ¡åˆ›å»ºç‹¬ç«‹çš„LoRAé€‚é…å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_adapters[task] &lt;span style="color:#f92672"&gt;=&lt;/span&gt; create_lora_adapter(base_model)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;switch_task&lt;/span&gt;(self, task_name):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# åˆ‡æ¢åˆ°æŒ‡å®šä»»åŠ¡çš„é€‚é…å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; current_adapter &lt;span style="color:#f92672"&gt;=&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;lora_adapters[task_name]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; apply_adapter(self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;base_model, current_adapter)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="åœºæ™¯2ä¸ªæ€§åŒ–æ¨¡å‹å®šåˆ¶"&gt;åœºæ™¯2ï¼šä¸ªæ€§åŒ–æ¨¡å‹å®šåˆ¶&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ç”¨æˆ·ä¸“å±çš„ä¸ªæ€§åŒ–å¾®è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;personalize_model_for_user&lt;/span&gt;(base_model, user_data, user_id):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# 1. ä¸ºç”¨æˆ·åˆ›å»ºä¸“å±LoRAé€‚é…å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; user_adapter &lt;span style="color:#f92672"&gt;=&lt;/span&gt; LoRALayerWrapper(base_model, rank&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;16&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# 2. åœ¨ç”¨æˆ·æ•°æ®ä¸Šå¾®è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; train_adapter(user_adapter, user_data)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# 3. ä¿å­˜é€‚é…å™¨æƒé‡ï¼ˆä»…å‡ MBï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; save_adapter_weights(user_adapter, &lt;span style="color:#e6db74"&gt;f&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;user_&lt;/span&gt;&lt;span style="color:#e6db74"&gt;{&lt;/span&gt;user_id&lt;span style="color:#e6db74"&gt;}&lt;/span&gt;&lt;span style="color:#e6db74"&gt;_adapter.pt&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; user_adapter&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="åœºæ™¯3æŒç»­å­¦ä¹ ä¸çŸ¥è¯†ç§¯ç´¯"&gt;åœºæ™¯3ï¼šæŒç»­å­¦ä¹ ä¸çŸ¥è¯†ç§¯ç´¯&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æŒç»­å­¦ä¹ æ¡†æ¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;class&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;ContinualLearningWithLoRA&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;__init__&lt;/span&gt;(self, base_model):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;base_model &lt;span style="color:#f92672"&gt;=&lt;/span&gt; base_model
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;task_adapters &lt;span style="color:#f92672"&gt;=&lt;/span&gt; [] &lt;span style="color:#75715e"&gt;# å­˜å‚¨å†å²ä»»åŠ¡çš„é€‚é…å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;current_adapter &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;learn_new_task&lt;/span&gt;(self, task_data, task_name):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# åˆ›å»ºæ–°ä»»åŠ¡çš„é€‚é…å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; new_adapter &lt;span style="color:#f92672"&gt;=&lt;/span&gt; create_lora_adapter(self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;base_model)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# å¾®è°ƒé€‚é…å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; train_adapter(new_adapter, task_data)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# ä¿å­˜åˆ°å†å²&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;task_adapters&lt;span style="color:#f92672"&gt;.&lt;/span&gt;append((task_name, new_adapter))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;current_adapter &lt;span style="color:#f92672"&gt;=&lt;/span&gt; new_adapter
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;recall_task&lt;/span&gt;(self, task_name):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# å¬å›ç‰¹å®šä»»åŠ¡çš„é€‚é…å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; name, adapter &lt;span style="color:#f92672"&gt;in&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;task_adapters:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; name &lt;span style="color:#f92672"&gt;==&lt;/span&gt; task_name:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; apply_adapter(self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;base_model, adapter)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;current_adapter &lt;span style="color:#f92672"&gt;=&lt;/span&gt; adapter
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;False&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id="æ€§èƒ½å¯¹æ¯”ä¸é€‰æ‹©æŒ‡å—"&gt;æ€§èƒ½å¯¹æ¯”ä¸é€‰æ‹©æŒ‡å—&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç‰¹æ€§&lt;/th&gt;
&lt;th&gt;å…¨å‚æ•°å¾®è°ƒ&lt;/th&gt;
&lt;th&gt;LoRAå¾®è°ƒ&lt;/th&gt;
&lt;th&gt;é€‚é…å™¨ï¼ˆAdapterï¼‰&lt;/th&gt;
&lt;th&gt;å‰ç¼€è°ƒä¼˜ï¼ˆPrefix Tuningï¼‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å‚æ•°é‡&lt;/td&gt;
&lt;td&gt;100%&lt;/td&gt;
&lt;td&gt;0.1%-1%&lt;/td&gt;
&lt;td&gt;0.5%-3%&lt;/td&gt;
&lt;td&gt;0.1%-0.5%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è®­ç»ƒé€Ÿåº¦&lt;/td&gt;
&lt;td&gt;æ…¢&lt;/td&gt;
&lt;td&gt;å¿«&lt;/td&gt;
&lt;td&gt;ä¸­ç­‰&lt;/td&gt;
&lt;td&gt;å¿«&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å†…å­˜å ç”¨&lt;/td&gt;
&lt;td&gt;é«˜&lt;/td&gt;
&lt;td&gt;ä½&lt;/td&gt;
&lt;td&gt;ä¸­ç­‰&lt;/td&gt;
&lt;td&gt;ä½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ¨¡å—åŒ–&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åˆå¹¶æ¨ç†&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¤šä»»åŠ¡æ”¯æŒ&lt;/td&gt;
&lt;td&gt;å›°éš¾&lt;/td&gt;
&lt;td&gt;å®¹æ˜“&lt;/td&gt;
&lt;td&gt;å®¹æ˜“&lt;/td&gt;
&lt;td&gt;ä¸­ç­‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;æŠ€æœ¯æ´å¯Ÿ&lt;/strong&gt;ï¼šLoRAçš„æˆåŠŸä¸ä»…åœ¨äºå…¶&lt;strong&gt;å‚æ•°æ•ˆç‡&lt;/strong&gt;ï¼Œæ›´åœ¨äºå…¶&lt;strong&gt;è®¾è®¡å“²å­¦&lt;/strong&gt;â€”â€”é€šè¿‡ä½ç§©è¿‘ä¼¼æ•æ‰ä»»åŠ¡ç‰¹å®šçš„çŸ¥è¯†å˜åŒ–ï¼ŒåŒæ—¶ä¿ç•™é¢„è®­ç»ƒçš„é€šç”¨çŸ¥è¯†ã€‚è¿™ç§&amp;quot;å¢é‡å­¦ä¹ &amp;quot;æ¨¡å¼ä»£è¡¨äº†ç°ä»£AIç³»ç»Ÿè®¾è®¡çš„é‡è¦è¶‹åŠ¿ã€‚&lt;/p&gt;
&lt;h2 id="å››åå¥½ä¼˜åŒ–rlhfä¸dpo"&gt;å››ã€åå¥½ä¼˜åŒ–ï¼šRLHFä¸DPO&lt;/h2&gt;
&lt;h3 id="rlhfåŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ "&gt;RLHFï¼šåŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ &lt;/h3&gt;
&lt;p&gt;RLHFï¼ˆReinforcement Learning from Human Feedbackï¼‰æ˜¯è®©æ¨¡å‹è¾“å‡ºæ›´ç¬¦åˆäººç±»åå¥½çš„&lt;strong&gt;æ ‡å‡†æ–¹æ³•&lt;/strong&gt;ï¼ŒåŒ…å«ä¸‰ä¸ªå…³é”®æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç›‘ç£å¾®è°ƒ&lt;/strong&gt;ï¼šå»ºç«‹åŸºç¡€æŒ‡ä»¤è·Ÿéšèƒ½åŠ›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¥–åŠ±æ¨¡å‹è®­ç»ƒ&lt;/strong&gt;ï¼šé€šè¿‡äººç±»åå¥½æ•°æ®è®­ç»ƒåˆ¤åˆ«æ¨¡å‹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PPOä¼˜åŒ–&lt;/strong&gt;ï¼šä½¿ç”¨è¿‘ç«¯ç­–ç•¥ä¼˜åŒ–ç®—æ³•å¯¹é½æ¨¡å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æŠ€æœ¯æŒ‘æˆ˜&lt;/strong&gt;ï¼šè®­ç»ƒä¸ç¨³å®šã€è®¡ç®—æˆæœ¬é«˜ã€éœ€è¦å¤§é‡äººç±»æ ‡æ³¨&lt;/p&gt;
&lt;h3 id="dpoç›´æ¥åå¥½ä¼˜åŒ–"&gt;DPOï¼šç›´æ¥åå¥½ä¼˜åŒ–&lt;/h3&gt;
&lt;p&gt;DPOï¼ˆDirect Preference Optimizationï¼‰æ˜¯RLHFçš„&lt;strong&gt;é«˜æ•ˆæ›¿ä»£æ–¹æ¡ˆ&lt;/strong&gt;ï¼Œç›´æ¥ä½¿ç”¨åå¥½æ•°æ®ä¼˜åŒ–ç­–ç•¥ï¼Œæ— éœ€ç‹¬ç«‹çš„å¥–åŠ±æ¨¡å‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•°å­¦ä¼˜åŠ¿&lt;/strong&gt;ï¼šé—­å¼è§£ï¼Œè®­ç»ƒæ›´ç¨³å®š&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¡ç®—æ•ˆç‡&lt;/strong&gt;ï¼šçœå»å¥–åŠ±æ¨¡å‹è®­ç»ƒå’ŒPPOä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®è·µæ•ˆæœ&lt;/strong&gt;ï¼šåœ¨æŸäº›ä»»åŠ¡ä¸Šè¡¨ç°ä¼˜äºä¼ ç»ŸRLHF&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å¯¹æ¯”åˆ†æ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç‰¹æ€§&lt;/th&gt;
&lt;th&gt;RLHF&lt;/th&gt;
&lt;th&gt;DPO&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è®­ç»ƒå¤æ‚åº¦&lt;/td&gt;
&lt;td&gt;é«˜ï¼ˆä¸‰é˜¶æ®µï¼‰&lt;/td&gt;
&lt;td&gt;ä½ï¼ˆå•é˜¶æ®µï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç¨³å®šæ€§&lt;/td&gt;
&lt;td&gt;ä¸­ç­‰&lt;/td&gt;
&lt;td&gt;é«˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ•°æ®éœ€æ±‚&lt;/td&gt;
&lt;td&gt;å¤§é‡åå¥½æ ‡æ³¨&lt;/td&gt;
&lt;td&gt;ä¸­ç­‰åå¥½æ ‡æ³¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è®¡ç®—æˆæœ¬&lt;/td&gt;
&lt;td&gt;é«˜&lt;/td&gt;
&lt;td&gt;ä½&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="äº”è‡ªåŠ¨åŒ–å¯¹é½rlaifä¸å˜ä½“"&gt;äº”ã€è‡ªåŠ¨åŒ–å¯¹é½ï¼šRLAIFä¸å˜ä½“&lt;/h2&gt;
&lt;h3 id="rlaifaiåé¦ˆçš„å¼ºåŒ–å­¦ä¹ "&gt;RLAIFï¼šAIåé¦ˆçš„å¼ºåŒ–å­¦ä¹ &lt;/h3&gt;
&lt;p&gt;RLAIFï¼ˆReinforcement Learning from AI Feedbackï¼‰ä½¿ç”¨å¼ºå¤§çš„AIæ¨¡å‹ï¼ˆå¦‚GPT-4ï¼‰ä»£æ›¿äººç±»æä¾›åå¥½ä¿¡å·ï¼Œè§£å†³äººç±»æ ‡æ³¨æˆæœ¬é«˜çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id="ä¼˜åŒ–ç®—æ³•æ¼”è¿›"&gt;ä¼˜åŒ–ç®—æ³•æ¼”è¿›&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;PPOï¼ˆè¿‘ç«¯ç­–ç•¥ä¼˜åŒ–ï¼‰&lt;/strong&gt;ï¼šç»å…¸ç¨³å®šï¼Œä½†è®­ç»ƒå¤æ‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GRPOï¼ˆåˆ†ç»„æ’åç­–ç•¥ä¼˜åŒ–ï¼‰&lt;/strong&gt;ï¼šå¤šå€™é€‰æ’åï¼Œæå‡æ•ˆç‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SPO/SimPOï¼ˆç®€åŒ–åå¥½ä¼˜åŒ–ï¼‰&lt;/strong&gt;ï¼šç›´æ¥ä¼˜åŒ–åå¥½æ¦‚ç‡å·®ï¼Œç®€æ´é«˜æ•ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æŠ€æœ¯è¶‹åŠ¿&lt;/strong&gt;ï¼šä»å¤æ‚å¤šé˜¶æ®µè®­ç»ƒå‘ç®€æ´å•é˜¶æ®µä¼˜åŒ–æ¼”è¿›ï¼Œæå‡è®­ç»ƒæ•ˆç‡å’Œç¨³å®šæ€§ã€‚&lt;/p&gt;
&lt;h2 id="å…­éƒ¨ç½²ä¼˜åŒ–æ¨¡å‹è’¸é¦"&gt;å…­ã€éƒ¨ç½²ä¼˜åŒ–ï¼šæ¨¡å‹è’¸é¦&lt;/h2&gt;
&lt;h3 id="æŠ€æœ¯åŸç†"&gt;æŠ€æœ¯åŸç†&lt;/h3&gt;
&lt;p&gt;æ¨¡å‹è’¸é¦ï¼ˆKnowledge Distillationï¼‰é€šè¿‡&amp;quot;æ•™å¸ˆ-å­¦ç”Ÿ&amp;quot;æ¡†æ¶ï¼Œå°†å¤§æ¨¡å‹çš„&lt;strong&gt;çŸ¥è¯†å‹ç¼©&lt;/strong&gt;åˆ°å°æ¨¡å‹ä¸­ï¼Œå®ç°éƒ¨ç½²æ•ˆç‡çš„æå‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŸå¤±å‡½æ•°&lt;/strong&gt;ï¼šç»“åˆç¡¬æ ‡ç­¾æŸå¤±å’Œè½¯æ ‡ç­¾è’¸é¦æŸå¤±&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è’¸é¦ç­–ç•¥&lt;/strong&gt;ï¼šå“åº”è’¸é¦ã€ç‰¹å¾è’¸é¦ã€å…³ç³»è’¸é¦ç­‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½å¹³è¡¡&lt;/strong&gt;ï¼šåœ¨æ¨¡å‹å¤§å°å’Œæ€§èƒ½é—´å¯»æ‰¾æœ€ä¼˜å¹³è¡¡ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="å®è·µä»·å€¼"&gt;å®è·µä»·å€¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¾¹ç¼˜éƒ¨ç½²&lt;/strong&gt;ï¼šå°†æ•°åGBæ¨¡å‹å‹ç¼©åˆ°æ•°GB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®æ—¶æ¨ç†&lt;/strong&gt;ï¼šæå‡æ¨ç†é€Ÿåº¦10-100å€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æˆæœ¬ä¼˜åŒ–&lt;/strong&gt;ï¼šå¤§å¹…é™ä½æ¨ç†ç¡¬ä»¶éœ€æ±‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ¡ˆä¾‹ç ”ç©¶&lt;/strong&gt;ï¼šDistilBERTå°†BERTæ¨¡å‹å‹ç¼©40%ï¼Œæ¨ç†é€Ÿåº¦æå‡60%ï¼Œä¿ç•™97%çš„è¯­è¨€ç†è§£èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;h2 id="ä¸ƒå®Œæ•´è®­ç»ƒæµç¨‹æ¶æ„ä¸æœ€ä½³å®è·µ"&gt;ä¸ƒã€å®Œæ•´è®­ç»ƒæµç¨‹æ¶æ„ä¸æœ€ä½³å®è·µ&lt;/h2&gt;
&lt;h3 id="ç°ä»£llmè®­ç»ƒçš„å…¨æµç¨‹å¯è§†åŒ–"&gt;ç°ä»£LLMè®­ç»ƒçš„å…¨æµç¨‹å¯è§†åŒ–&lt;/h3&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TD
A[æ•°æ®å‡†å¤‡] --&amp;gt; B[é¢„è®­ç»ƒ Pretrain]
B --&amp;gt; C[SFTç›‘ç£å¾®è°ƒ]
C --&amp;gt; D[åå¥½å¯¹é½ RLHF/DPO]
D --&amp;gt; E[æ¨¡å‹è’¸é¦ Distillation]
E --&amp;gt; F[éƒ¨ç½²ä¼˜åŒ–]
A --&amp;gt; A1[æµ·é‡æ–‡æœ¬æ•°æ®]
B --&amp;gt; B1[åŸºç¡€è¯­è¨€èƒ½åŠ›]
C --&amp;gt; C1[æŒ‡ä»¤è·Ÿéšèƒ½åŠ›]
D --&amp;gt; D1[äººç±»åå¥½å¯¹é½]
E --&amp;gt; E1[çŸ¥è¯†å‹ç¼©]
F --&amp;gt; F1[ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²]
style A fill:#f9f,stroke:#333,stroke-width:2px
style B fill:#bbf,stroke:#333,stroke-width:2px
style C fill:#bfb,stroke:#333,stroke-width:2px
style D fill:#fbb,stroke:#333,stroke-width:2px
style E fill:#ffb,stroke:#333,stroke-width:2px
style F fill:#bff,stroke:#333,stroke-width:2px&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h3 id="å„é˜¶æ®µæŠ€æœ¯ç›®æ ‡ä¸äº§å‡º"&gt;å„é˜¶æ®µæŠ€æœ¯ç›®æ ‡ä¸äº§å‡º&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é˜¶æ®µ&lt;/th&gt;
&lt;th&gt;ä¸»è¦ç›®æ ‡&lt;/th&gt;
&lt;th&gt;å…³é”®æŠ€æœ¯&lt;/th&gt;
&lt;th&gt;äº§å‡ºæŒ‡æ ‡&lt;/th&gt;
&lt;th&gt;å…¸å‹è€—æ—¶&lt;/th&gt;
&lt;th&gt;èµ„æºéœ€æ±‚&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é¢„è®­ç»ƒ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å»ºç«‹åŸºç¡€è¯­è¨€èƒ½åŠ›&lt;/td&gt;
&lt;td&gt;è‡ªå›å½’/æ©ç LMã€æ··åˆç²¾åº¦è®­ç»ƒ&lt;/td&gt;
&lt;td&gt;Perplexityã€Zero-shotèƒ½åŠ›&lt;/td&gt;
&lt;td&gt;1000-10000 GPUå¤©&lt;/td&gt;
&lt;td&gt;æé«˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;SFTå¾®è°ƒ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æŒ‡ä»¤è·Ÿéšå¯¹é½&lt;/td&gt;
&lt;td&gt;äº¤å‰ç†µä¼˜åŒ–ã€è¯¾ç¨‹å­¦ä¹ &lt;/td&gt;
&lt;td&gt;æŒ‡ä»¤éµå¾ªç‡ã€ä»»åŠ¡å®Œæˆåº¦&lt;/td&gt;
&lt;td&gt;10-100 GPUå¤©&lt;/td&gt;
&lt;td&gt;é«˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åå¥½å¯¹é½&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;äººç±»åå¥½ä¼˜åŒ–&lt;/td&gt;
&lt;td&gt;RLHF/DPOã€å¥–åŠ±å»ºæ¨¡&lt;/td&gt;
&lt;td&gt;åå¥½èƒœç‡ã€äººå·¥è¯„ä¼°åˆ†&lt;/td&gt;
&lt;td&gt;50-500 GPUå¤©&lt;/td&gt;
&lt;td&gt;å¾ˆé«˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ¨¡å‹è’¸é¦&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éƒ¨ç½²æ•ˆç‡ä¼˜åŒ–&lt;/td&gt;
&lt;td&gt;çŸ¥è¯†è’¸é¦ã€å“åº”æ¨¡ä»¿&lt;/td&gt;
&lt;td&gt;æ¨¡å‹å¤§å°ã€æ¨ç†é€Ÿåº¦&lt;/td&gt;
&lt;td&gt;20-200 GPUå¤©&lt;/td&gt;
&lt;td&gt;ä¸­ç­‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;éƒ¨ç½²ä¼˜åŒ–&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç”Ÿäº§å°±ç»ª&lt;/td&gt;
&lt;td&gt;é‡åŒ–ã€å‰ªæã€ç¼–è¯‘ä¼˜åŒ–&lt;/td&gt;
&lt;td&gt;å»¶è¿Ÿã€ååé‡ã€æˆæœ¬&lt;/td&gt;
&lt;td&gt;5-50 GPUå¤©&lt;/td&gt;
&lt;td&gt;ä½&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="æŠ€æœ¯é€‰å‹å†³ç­–æ¡†æ¶"&gt;æŠ€æœ¯é€‰å‹å†³ç­–æ¡†æ¶&lt;/h3&gt;
&lt;h4 id="åœºæ™¯1èµ„æºå……è¶³çš„å®Œæ•´æµç¨‹"&gt;åœºæ™¯1ï¼šèµ„æºå……è¶³çš„å®Œæ•´æµç¨‹&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;é€‚ç”¨åœºæ™¯&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;å¤§å‹ç§‘æŠ€å…¬å¸ã€ç ”ç©¶æœºæ„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ç›®æ ‡&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ‰“é€ é¡¶å°–æ€§èƒ½çš„é€šç”¨å¤§æ¨¡å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;æŠ€æœ¯æ ˆ&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;é¢„è®­ç»ƒ&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ä¸‡äº¿tokenè§„æ¨¡ï¼Œåƒäº¿å‚æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;SFT&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ•°åä¸‡é«˜è´¨é‡æŒ‡ä»¤æ ·æœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;å¯¹é½&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;RLHF + äººå·¥è¯„ä¼°å›¢é˜Ÿ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;è’¸é¦&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ•™å¸ˆ-å­¦ç”Ÿå¤šè½®è’¸é¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä¼˜åŠ¿&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ€§èƒ½æœ€ä¼˜ï¼ŒæŠ€æœ¯é¢†å…ˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;æŒ‘æˆ˜&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æˆæœ¬æé«˜ï¼Œå‘¨æœŸæ¼«é•¿&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä»£è¡¨æ¡ˆä¾‹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;GPT-4ã€Claude 3ã€Gemini Ultra&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="åœºæ™¯2å¿«é€Ÿä¸šåŠ¡é€‚é…"&gt;åœºæ™¯2ï¼šå¿«é€Ÿä¸šåŠ¡é€‚é…&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;é€‚ç”¨åœºæ™¯&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ä¼ä¸šåº”ç”¨ã€å‚ç›´é¢†åŸŸ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ç›®æ ‡&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;å¿«é€Ÿå°†é€šç”¨æ¨¡å‹é€‚é…åˆ°å…·ä½“ä¸šåŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;æŠ€æœ¯æ ˆ&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;åŸºç¡€æ¨¡å‹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;é€‰æ‹©å¼€æºé¢„è®­ç»ƒæ¨¡å‹ï¼ˆLlamaã€Qwenç­‰ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;å¾®è°ƒ&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;LoRAé«˜æ•ˆé€‚é…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;å¯¹é½&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;DPOå¿«é€Ÿåå¥½ä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ä¼˜åŒ–&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;é‡åŒ–+ç¼–è¯‘ä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä¼˜åŠ¿&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;å¿«é€Ÿä¸Šçº¿ï¼Œæˆæœ¬å¯æ§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;æŒ‘æˆ˜&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ€§èƒ½æœ‰ä¸Šé™ï¼Œä¾èµ–åŸºç¡€æ¨¡å‹è´¨é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä»£è¡¨æ¡ˆä¾‹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ä¼ä¸šå®¢æœåŠ©æ‰‹ã€ä¸“ä¸šé¢†åŸŸé—®ç­”ç³»ç»Ÿ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="åœºæ™¯3è¾¹ç¼˜ä¸ç§»åŠ¨ç«¯éƒ¨ç½²"&gt;åœºæ™¯3ï¼šè¾¹ç¼˜ä¸ç§»åŠ¨ç«¯éƒ¨ç½²&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;é€‚ç”¨åœºæ™¯&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ç§»åŠ¨åº”ç”¨ã€IoTè®¾å¤‡ã€å®æ—¶ç³»ç»Ÿ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ç›®æ ‡&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ä½å»¶è¿Ÿã€ä½åŠŸè€—æ¨ç†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;æŠ€æœ¯æ ˆ&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;æ¨¡å‹é€‰æ‹©&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;å°å‹è’¸é¦æ¨¡å‹ï¼ˆ1-7Bå‚æ•°ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;å‹ç¼©&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;é‡åŒ–ï¼ˆINT8/INT4ï¼‰ã€å‰ªæ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ä¼˜åŒ–&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ¨¡å‹ç¼–è¯‘ã€ç®—å­èåˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;éƒ¨ç½²&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ONNX Runtimeã€TensorRT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä¼˜åŠ¿&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;éƒ¨ç½²çµæ´»ï¼Œèµ„æºè¦æ±‚ä½&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;æŒ‘æˆ˜&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;èƒ½åŠ›æœ‰é™ï¼Œéœ€è¦ç²¾å¿ƒè®¾è®¡ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä»£è¡¨æ¡ˆä¾‹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ‰‹æœºè¯­éŸ³åŠ©æ‰‹ã€è¾¹ç¼˜AIè®¾å¤‡&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="åœºæ™¯4ç ”ç©¶ä¸å°è§„æ¨¡å®éªŒ"&gt;åœºæ™¯4ï¼šç ”ç©¶ä¸å°è§„æ¨¡å®éªŒ&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;é€‚ç”¨åœºæ™¯&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;å­¦æœ¯ç ”ç©¶ã€åŸå‹éªŒè¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ç›®æ ‡&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;å¿«é€ŸéªŒè¯æ–°ç®—æ³•ã€æ–°æ€è·¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;æŠ€æœ¯æ ˆ&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;æ¨¡å‹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ä¸­å°è§„æ¨¡åŸºç¡€æ¨¡å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;å¾®è°ƒ&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;LoRA/P-Tuningç­‰PEFTæ–¹æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;è¯„ä¼°&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;è‡ªåŠ¨åŒ–è¯„ä¼°+å°è§„æ¨¡äººå·¥è¯„ä¼°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;è¿­ä»£&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;å¿«é€Ÿå®éªŒå¾ªç¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä¼˜åŠ¿&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æˆæœ¬ä½ï¼Œè¿­ä»£å¿«&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;æŒ‘æˆ˜&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ç»“æœå¯èƒ½ä¸ç›´æ¥é€‚ç”¨äºç”Ÿäº§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä»£è¡¨æ¡ˆä¾‹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ–°å¯¹é½ç®—æ³•éªŒè¯ã€ä»»åŠ¡ç‰¹å®šä¼˜åŒ–&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id="æµç¨‹ä¼˜åŒ–ç­–ç•¥"&gt;æµç¨‹ä¼˜åŒ–ç­–ç•¥&lt;/h3&gt;
&lt;h4 id="1-è¿­ä»£å¼è®­ç»ƒç­–ç•¥"&gt;1. è¿­ä»£å¼è®­ç»ƒç­–ç•¥&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;iterative_training_pipeline&lt;/span&gt;(base_model, data_pipeline):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;è¿­ä»£å¼è®­ç»ƒæµæ°´çº¿&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# ç¬¬ä¸€è½®ï¼šåŸºç¡€èƒ½åŠ›å»ºç«‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; model &lt;span style="color:#f92672"&gt;=&lt;/span&gt; pretrain(base_model, data_pipeline&lt;span style="color:#f92672"&gt;.&lt;/span&gt;pretrain_data)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# ç¬¬äºŒè½®ï¼šæŒ‡ä»¤è·Ÿéšèƒ½åŠ›&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; model &lt;span style="color:#f92672"&gt;=&lt;/span&gt; sft_finetune(model, data_pipeline&lt;span style="color:#f92672"&gt;.&lt;/span&gt;sft_data)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# ç¬¬ä¸‰è½®ï¼šåå¥½å¯¹é½ä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; model &lt;span style="color:#f92672"&gt;=&lt;/span&gt; preference_align(model, data_pipeline&lt;span style="color:#f92672"&gt;.&lt;/span&gt;preference_data)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# ç¬¬å››è½®ï¼šè’¸é¦å‹ç¼©&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; small_model &lt;span style="color:#f92672"&gt;=&lt;/span&gt; distill(model, data_pipeline&lt;span style="color:#f92672"&gt;.&lt;/span&gt;distill_data)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# ç¬¬äº”è½®ï¼šéƒ¨ç½²ä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; optimized_model &lt;span style="color:#f92672"&gt;=&lt;/span&gt; deploy_optimize(small_model)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; optimized_model&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="2-è´¨é‡è¯„ä¼°é—­ç¯"&gt;2. è´¨é‡è¯„ä¼°é—­ç¯&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;class&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;TrainingQualityLoop&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;è®­ç»ƒè´¨é‡è¯„ä¼°é—­ç¯&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;__init__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;metrics &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;pretrain&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;perplexity&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;zero_shot_acc&amp;#34;&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;sft&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;instruction_follow&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;task_completion&amp;#34;&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;alignment&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;preference_win_rate&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;safety_score&amp;#34;&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;distillation&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;size_reduction&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;speed_up&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;quality_drop&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;evaluate_stage&lt;/span&gt;(self, stage, model, test_data):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;è¯„ä¼°ç‰¹å®šè®­ç»ƒé˜¶æ®µçš„è´¨é‡&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; results &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; metric &lt;span style="color:#f92672"&gt;in&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;metrics[stage]:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; results[metric] &lt;span style="color:#f92672"&gt;=&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;compute_metric(metric, model, test_data)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# å†³å®šæ˜¯å¦è¿›å…¥ä¸‹ä¸€é˜¶æ®µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;pass_criteria(stage, results):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;True&lt;/span&gt;, results
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;False&lt;/span&gt;, results
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;pass_criteria&lt;/span&gt;(self, stage, results):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;å„é˜¶æ®µçš„é€šè¿‡æ ‡å‡†&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; criteria &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;pretrain&amp;#34;&lt;/span&gt;: results[&lt;span style="color:#e6db74"&gt;&amp;#34;perplexity&amp;#34;&lt;/span&gt;] &lt;span style="color:#f92672"&gt;&amp;lt;&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;10.0&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;sft&amp;#34;&lt;/span&gt;: results[&lt;span style="color:#e6db74"&gt;&amp;#34;instruction_follow&amp;#34;&lt;/span&gt;] &lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;0.85&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;alignment&amp;#34;&lt;/span&gt;: results[&lt;span style="color:#e6db74"&gt;&amp;#34;preference_win_rate&amp;#34;&lt;/span&gt;] &lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;0.7&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;distillation&amp;#34;&lt;/span&gt;: results[&lt;span style="color:#e6db74"&gt;&amp;#34;quality_drop&amp;#34;&lt;/span&gt;] &lt;span style="color:#f92672"&gt;&amp;lt;&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;0.05&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; criteria[stage]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id="å…«æœªæ¥å±•æœ›ä¸æŠ€æœ¯æŒ‘æˆ˜"&gt;å…«ã€æœªæ¥å±•æœ›ä¸æŠ€æœ¯æŒ‘æˆ˜&lt;/h2&gt;
&lt;h3 id="æŠ€æœ¯å‘å±•è¶‹åŠ¿é¢„æµ‹"&gt;æŠ€æœ¯å‘å±•è¶‹åŠ¿é¢„æµ‹&lt;/h3&gt;
&lt;h4 id="1-è®­ç»ƒæ•ˆç‡é©å‘½"&gt;1. è®­ç»ƒæ•ˆç‡é©å‘½&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;çŸ­æœŸè¶‹åŠ¿ï¼ˆ1-2å¹´ï¼‰&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;æ›´é«˜æ•ˆçš„PEFTæ–¹æ³•&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;è¶…è¶ŠLoRAçš„å‚æ•°é«˜æ•ˆå¾®è°ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;æ··åˆä¸“å®¶MoEæ™®åŠ&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ç¨€ç–æ¿€æ´»é™ä½è®¡ç®—æˆæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;è®­ç»ƒç®—æ³•ä¼˜åŒ–&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ›´ç¨³å®šçš„RLHF/DPOå˜ä½“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä¸­æœŸè¶‹åŠ¿ï¼ˆ3-5å¹´ï¼‰&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ç«¯åˆ°ç«¯ä¼˜åŒ–&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ä»æ•°æ®åˆ°éƒ¨ç½²çš„å…¨æµç¨‹è”åˆä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;è‡ªåŠ¨åŒ–è®­ç»ƒ&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;AIè‡ªåŠ¨è®¾è®¡è®­ç»ƒæµç¨‹å’Œè¶…å‚æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ç»¿è‰²AI&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;èƒ½æ•ˆæ¯”æå‡10-100å€çš„è®­ç»ƒæ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="2-å¯¹é½èƒ½åŠ›çªç ´"&gt;2. å¯¹é½èƒ½åŠ›çªç ´&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;æŠ€æœ¯æ–¹å‘&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ä»·å€¼è§‚å¯¹é½&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ›´ç²¾å‡†çš„æ–‡åŒ–å’Œä»·å€¼è§‚é€‚é…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;å®‰å…¨å¢å¼º&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;å¯¹æŠ—æ€§æ”»å‡»çš„é²æ£’æ€§æå‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;å¯è§£é‡Šæ€§&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ¨¡å‹å†³ç­–è¿‡ç¨‹çš„å¯è§£é‡Šå’Œå¯æ§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;åº”ç”¨åœºæ™¯&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ä¸ªæ€§åŒ–åŠ©æ‰‹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ·±åº¦ç†è§£ç”¨æˆ·ä¹ æƒ¯å’Œåå¥½&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ä¸“ä¸šé¢†åŸŸ&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;åŒ»å­¦ã€æ³•å¾‹ã€é‡‘èç­‰é«˜é£é™©é¢†åŸŸ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;åˆ›é€ æ€§å·¥ä½œ&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;è‰ºæœ¯åˆ›ä½œã€ç§‘å­¦å‘ç°çš„ååŒ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="3-å¤šæ¨¡æ€ä¸è·¨é¢†åŸŸèåˆ"&gt;3. å¤šæ¨¡æ€ä¸è·¨é¢†åŸŸèåˆ&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;èåˆæ¨¡å¼&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ç»Ÿä¸€æ¶æ„&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘çš„ç»Ÿä¸€å»ºæ¨¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;è·¨æ¨¡æ€ç†è§£&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ·±åº¦ç†è§£ä¸åŒæ¨¡æ€é—´çš„è¯­ä¹‰å…³è”&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ä¸–ç•Œæ¨¡å‹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æ„å»ºå¯¹ç‰©ç†ä¸–ç•Œçš„ç†è§£å’Œæ¨ç†èƒ½åŠ›&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;åº”ç”¨å‰æ™¯&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;å…·èº«æ™ºèƒ½&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æœºå™¨äººã€è‡ªåŠ¨é©¾é©¶çš„æ™ºèƒ½æ§åˆ¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;æ•°å­—å­ªç”Ÿ&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;è™šæ‹Ÿä¸–ç•Œçš„åˆ›å»ºå’Œäº¤äº’&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;ç§‘å­¦å‘ç°&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;è·¨å­¦ç§‘çš„çŸ¥è¯†å‘ç°å’Œæ¨ç†&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id="å½“å‰é‡å¤§æŒ‘æˆ˜ä¸åº”å¯¹ç­–ç•¥"&gt;å½“å‰é‡å¤§æŒ‘æˆ˜ä¸åº”å¯¹ç­–ç•¥&lt;/h3&gt;
&lt;h4 id="æŒ‘æˆ˜1è®¡ç®—æˆæœ¬ä¸å¯æŒç»­æ€§"&gt;æŒ‘æˆ˜1ï¼šè®¡ç®—æˆæœ¬ä¸å¯æŒç»­æ€§&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æˆæœ¬ä¼˜åŒ–ç­–ç•¥æ¡†æ¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;class&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;CostOptimizationFramework&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;__init__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;strategies &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;data&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;é«˜æ•ˆæ•°æ®æ¸…æ´—&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;æ•°æ®å¢å¼º&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;è¯¾ç¨‹å­¦ä¹ &amp;#34;&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;model&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;æ¨¡å‹å‹ç¼©&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;ç¨€ç–åŒ–&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;æ··åˆä¸“å®¶&amp;#34;&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;training&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;æ··åˆç²¾åº¦&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;æ¢¯åº¦æ£€æŸ¥ç‚¹&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;åˆ†å¸ƒå¼ä¼˜åŒ–&amp;#34;&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;infrastructure&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;äº‘è®¡ç®—ä¼˜åŒ–&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;ä¸“ç”¨ç¡¬ä»¶&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;èƒ½æ•ˆç®¡ç†&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;estimate_cost_reduction&lt;/span&gt;(self, strategy_combo):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;ä¼°è®¡ä¸åŒç­–ç•¥ç»„åˆçš„æˆæœ¬é™ä½æ•ˆæœ&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; reduction_rate &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; category, strategies &lt;span style="color:#f92672"&gt;in&lt;/span&gt; strategy_combo&lt;span style="color:#f92672"&gt;.&lt;/span&gt;items():
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; strategy &lt;span style="color:#f92672"&gt;in&lt;/span&gt; strategies:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; reduction_rate &lt;span style="color:#f92672"&gt;*=&lt;/span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;get_strategy_effect(strategy)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; reduction_rate
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;get_strategy_effect&lt;/span&gt;(self, strategy):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;è·å–å•ä¸ªç­–ç•¥çš„æ•ˆæœç³»æ•°&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; effects &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;é«˜æ•ˆæ•°æ®æ¸…æ´—&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.8&lt;/span&gt;, &lt;span style="color:#75715e"&gt;# å‡å°‘20%æ•°æ®éœ€æ±‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;æ¨¡å‹å‹ç¼©&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.5&lt;/span&gt;, &lt;span style="color:#75715e"&gt;# å‡å°‘50%è®¡ç®—é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;æ··åˆç²¾åº¦&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;0.5&lt;/span&gt;, &lt;span style="color:#75715e"&gt;# å‡å°‘50%æ˜¾å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# ... å…¶ä»–ç­–ç•¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; effects&lt;span style="color:#f92672"&gt;.&lt;/span&gt;get(strategy, &lt;span style="color:#ae81ff"&gt;1.0&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="æŒ‘æˆ˜2æ•°æ®è´¨é‡ä¸ç‰ˆæƒé—®é¢˜"&gt;æŒ‘æˆ˜2ï¼šæ•°æ®è´¨é‡ä¸ç‰ˆæƒé—®é¢˜&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# æ•°æ®è´¨é‡ç®¡ç†æ¡†æ¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;class&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;DataQualityFramework&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;__init__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;quality_dimensions &lt;span style="color:#f92672"&gt;=&lt;/span&gt; [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;å‡†ç¡®æ€§&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;å®Œæ•´æ€§&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;ä¸€è‡´æ€§&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;æ—¶æ•ˆæ€§&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;ç›¸å…³æ€§&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;å¤šæ ·æ€§&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;build_sustainable_data_pipeline&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;æ„å»ºå¯æŒç»­çš„æ•°æ®ç®¡é“&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; pipeline &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;æ•°æ®æ”¶é›†&amp;#34;&lt;/span&gt;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;å…¬å¼€æ•°æ®é›†&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;åˆæˆæ•°æ®ç”Ÿæˆ&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;ç”¨æˆ·åé¦ˆæ”¶é›†&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;é¢†åŸŸä¸“å®¶æ ‡æ³¨&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;è´¨é‡æ§åˆ¶&amp;#34;&lt;/span&gt;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;è‡ªåŠ¨è¿‡æ»¤&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;äººå·¥å®¡æ ¸&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;å¤šæ ·æ€§æ£€æŸ¥&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;åè§æ£€æµ‹&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;ç‰ˆæƒç®¡ç†&amp;#34;&lt;/span&gt;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;å¼€æºè®¸å¯&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;å•†ä¸šæˆæƒ&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;åˆç†ä½¿ç”¨&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;æ•°æ®è´¡çŒ®åè®®&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;æŒç»­æ›´æ–°&amp;#34;&lt;/span&gt;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;å¢é‡å­¦ä¹ &amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;æ•°æ®ç‰ˆæœ¬æ§åˆ¶&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;è´¨é‡ç›‘æ§&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;åé¦ˆé—­ç¯&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; pipeline&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="æŒ‘æˆ˜3å®‰å…¨ä¸ä¼¦ç†å¯¹é½"&gt;æŒ‘æˆ˜3ï¼šå®‰å…¨ä¸ä¼¦ç†å¯¹é½&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# å®‰å…¨å¯¹é½æ¡†æ¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;class&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;SafetyAlignmentFramework&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;__init__&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self&lt;span style="color:#f92672"&gt;.&lt;/span&gt;safety_layers &lt;span style="color:#f92672"&gt;=&lt;/span&gt; [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;é¢„è®­ç»ƒå®‰å…¨è¿‡æ»¤&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;å¾®è°ƒå®‰å…¨çº¦æŸ&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;æ¨ç†æ—¶å®‰å…¨ç›‘æ§&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;åè®­ç»ƒå®‰å…¨è¯„ä¼°&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;def&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;implement_defense_in_depth&lt;/span&gt;(self):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&amp;#34;å®æ–½æ·±åº¦é˜²å¾¡ç­–ç•¥&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; defenses &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;é¢„é˜²å±‚&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;æ•°æ®æ¸…æ´—&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;å®‰å…¨æç¤º&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;ä»·å€¼å¯¹é½&amp;#34;&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;æ£€æµ‹å±‚&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;å¼‚å¸¸æ£€æµ‹&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;å†…å®¹è¿‡æ»¤&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;æ„å›¾è¯†åˆ«&amp;#34;&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;å“åº”å±‚&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;å®‰å…¨ä¸­æ–­&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;å†…å®¹ä¿®æ­£&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;ç”¨æˆ·é€šçŸ¥&amp;#34;&lt;/span&gt;],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;æ¢å¤å±‚&amp;#34;&lt;/span&gt;: [&lt;span style="color:#e6db74"&gt;&amp;#34;æ¨¡å‹å›æ»š&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;å®‰å…¨æ›´æ–°&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;æ¼æ´ä¿®å¤&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; defenses&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id="ç»™ä»ä¸šè€…çš„å®è·µå»ºè®®"&gt;ç»™ä»ä¸šè€…çš„å®è·µå»ºè®®&lt;/h3&gt;
&lt;h4 id="1-æŠ€æœ¯æ ˆå»ºè®¾è·¯çº¿å›¾"&gt;1. æŠ€æœ¯æ ˆå»ºè®¾è·¯çº¿å›¾&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph LR
A[å…¥é—¨é˜¶æ®µ] --&amp;gt; B[æŒæ¡é˜¶æ®µ]
B --&amp;gt; C[ç²¾é€šé˜¶æ®µ]
C --&amp;gt; D[ä¸“å®¶é˜¶æ®µ]
A --&amp;gt; A1[ç†è§£åŸºç¡€æ¦‚å¿µ&amp;lt;br&amp;gt;è¯•ç”¨API]
B --&amp;gt; B1[æŒæ¡å¾®è°ƒæŠ€æœ¯&amp;lt;br&amp;gt;æ„å»ºåŸå‹]
C --&amp;gt; C1[ä¼˜åŒ–è®­ç»ƒæµç¨‹&amp;lt;br&amp;gt;éƒ¨ç½²ç³»ç»Ÿ]
D --&amp;gt; D1[åˆ›æ–°ç®—æ³•&amp;lt;br&amp;gt;å¼•é¢†æ–¹å‘]
style A fill:#dfd,stroke:#333
style B fill:#ddf,stroke:#333
style C fill:#fdd,stroke:#333
style D fill:#ffd,stroke:#333&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h4 id="2-å­¦ä¹ èµ„æºæ¨è"&gt;2. å­¦ä¹ èµ„æºæ¨è&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-markdown" data-lang="markdown"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## æ ¸å¿ƒå­¦ä¹ è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;### ç†è®ºåŸºç¡€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; **å¿…è¯»è®ºæ–‡**:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; &amp;#34;Attention is All You Need&amp;#34; (Transformer)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; &amp;#34;Training language models to follow instructions&amp;#34; (InstructGPT)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; &amp;#34;LoRA: Low-Rank Adaptation of Large Language Models&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; &amp;#34;Direct Preference Optimization&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;### å®è·µæŠ€èƒ½
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; **å¼€æºé¡¹ç›®**:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; Hugging Face Transformers
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; PEFT (Parameter-Efficient Fine-Tuning)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; TRL (Transformer Reinforcement Learning)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; vLLM (é«˜æ•ˆæ¨ç†å¼•æ“)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;### ç¤¾åŒºèµ„æº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; **è®ºå›ç¤¾åŒº**: Hugging Face, Reddit r/MachineLearning
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;-&lt;/span&gt; **æŠ€æœ¯åšå®¢**: OpenAI Blog, Anthropic Blog, å„å¤§å…¬å¸æŠ€æœ¯åšå®¢
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="font-weight:bold"&gt;**åœ¨çº¿è¯¾ç¨‹**&lt;/span&gt;: Coursera, Fast.ai, å›½å†…ä¼˜è´¨AIè¯¾ç¨‹&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id="3-èŒä¸šå‘å±•å»ºè®®"&gt;3. èŒä¸šå‘å±•å»ºè®®&lt;/h4&gt;
&lt;div class="highlight-container"&gt;
&lt;button class="copy-code-btn outline"&gt;Copy&lt;/button&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;åˆçº§å·¥ç¨‹å¸ˆ (0-2å¹´)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;é‡ç‚¹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æŒæ¡å·¥å…·ä½¿ç”¨ï¼Œå®Œæˆå…·ä½“ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;æŠ€èƒ½&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;Python, PyTorch, åŸºç¡€å¾®è°ƒï¼ŒAPIä½¿ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;äº§å‡º&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;åŠŸèƒ½å®ç°ï¼Œbugä¿®å¤ï¼Œç®€å•ä¼˜åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä¸­çº§å·¥ç¨‹å¸ˆ (2-5å¹´)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;é‡ç‚¹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ç‹¬ç«‹è´Ÿè´£æ¨¡å—ï¼Œä¼˜åŒ–è®­ç»ƒæµç¨‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;æŠ€èƒ½&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;åˆ†å¸ƒå¼è®­ç»ƒï¼Œæ€§èƒ½ä¼˜åŒ–ï¼Œæ¨¡å‹è¯„ä¼°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;äº§å‡º&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;è®­ç»ƒæµæ°´çº¿ï¼Œæ€§èƒ½æå‡ï¼ŒæŠ€æœ¯æ–¹æ¡ˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;é«˜çº§å·¥ç¨‹å¸ˆ (5-8å¹´)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;é‡ç‚¹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼ŒæŠ€æœ¯åˆ›æ–°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;æŠ€èƒ½&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;ç®—æ³•åˆ›æ–°ï¼Œå¤§è§„æ¨¡ç³»ç»Ÿï¼Œå›¢é˜Ÿç®¡ç†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;äº§å‡º&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æŠ€æœ¯ä¸“åˆ©ï¼Œå¼€æºé¡¹ç›®ï¼Œæ¶æ„è®¾è®¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;ä¸“å®¶/æ€»ç›‘ (8å¹´ä»¥ä¸Š)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;é‡ç‚¹&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æŠ€æœ¯æˆ˜ç•¥ï¼Œè¡Œä¸šå½±å“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;æŠ€èƒ½&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;æŠ€æœ¯è§„åˆ’ï¼Œè·¨é¢†åŸŸæ•´åˆï¼Œç”Ÿæ€å»ºè®¾&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;äº§å‡º&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;è¡Œä¸šæ ‡å‡†ï¼ŒæŠ€æœ¯å“ç‰Œï¼Œåˆ›æ–°ç”Ÿæ€&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id="ç»“è¯­å¤§æ¨¡å‹æ—¶ä»£çš„å·¥ç¨‹å“²å­¦"&gt;ç»“è¯­ï¼šå¤§æ¨¡å‹æ—¶ä»£çš„å·¥ç¨‹å“²å­¦&lt;/h2&gt;
&lt;p&gt;å¤§è¯­è¨€æ¨¡å‹çš„è®­ç»ƒæµç¨‹æ¼”è¿›ï¼Œåæ˜ äº†ä¸€ä¸ªæ›´æ·±å±‚çš„&lt;strong&gt;å·¥ç¨‹å“²å­¦è½¬å˜&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;h3 id="ä»ä¸€æ¬¡æ€§è®­ç»ƒåˆ°æŒç»­è¿›åŒ–"&gt;ä»&amp;quot;ä¸€æ¬¡æ€§è®­ç»ƒ&amp;quot;åˆ°&amp;quot;æŒç»­è¿›åŒ–&amp;quot;&lt;/h3&gt;
&lt;p&gt;ä¼ ç»Ÿæœºå™¨å­¦ä¹ å¼ºè°ƒ&lt;strong&gt;ä¸€æ¬¡æ€§è®­ç»ƒå®Œç¾æ¨¡å‹&lt;/strong&gt;ï¼Œè€Œç°ä»£å¤§æ¨¡å‹å®è·µå€¡å¯¼&lt;strong&gt;æŒç»­è¿­ä»£å’Œè¿›åŒ–&lt;/strong&gt;ã€‚æ¨¡å‹ä¸å†æ˜¯é™æ€äº§ç‰©ï¼Œè€Œæ˜¯èƒ½å¤Ÿéšç€æ•°æ®ã€ä»»åŠ¡å’Œåé¦ˆä¸æ–­æˆé•¿çš„&lt;strong&gt;åŠ¨æ€ç³»ç»Ÿ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id="ä»å•ä¸€ä¼˜åŒ–åˆ°å¤šç›®æ ‡å¹³è¡¡"&gt;ä»&amp;quot;å•ä¸€ä¼˜åŒ–&amp;quot;åˆ°&amp;quot;å¤šç›®æ ‡å¹³è¡¡&amp;quot;&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ä¸å†å•çº¯è¿½æ±‚å‡†ç¡®ç‡æˆ– perplexity çš„æè‡´ï¼Œè€Œæ˜¯åœ¨&lt;strong&gt;æ€§èƒ½ã€æ•ˆç‡ã€å®‰å…¨ã€æˆæœ¬&lt;/strong&gt;ç­‰å¤šç»´åº¦å¯»æ‰¾æœ€ä¼˜å¹³è¡¡ç‚¹ã€‚è¿™è¦æ±‚å·¥ç¨‹å¸ˆå…·å¤‡ç³»ç»Ÿæ€ç»´å’Œæƒè¡¡èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;h3 id="ä»æŠ€æœ¯é©±åŠ¨åˆ°ä»·å€¼é©±åŠ¨"&gt;ä»&amp;quot;æŠ€æœ¯é©±åŠ¨&amp;quot;åˆ°&amp;quot;ä»·å€¼é©±åŠ¨&amp;quot;&lt;/h3&gt;
&lt;p&gt;æŠ€æœ¯çš„æœ€ç»ˆç›®æ ‡æ˜¯åˆ›é€ ä»·å€¼ã€‚å¤§æ¨¡å‹è®­ç»ƒæµç¨‹çš„æ¯ä¸ªç¯èŠ‚éƒ½åº”è¯¥å›ç­”ï¼šè¿™ä¸ºç”¨æˆ·ã€ä¸ºç¤¾ä¼šåˆ›é€ äº†ä»€ä¹ˆä»·å€¼ï¼Ÿè¿™ç§&lt;strong&gt;ä»·å€¼å¯¼å‘&lt;/strong&gt;çš„å·¥ç¨‹æ€ç»´ï¼Œå°†å†³å®šæŠ€æœ¯èƒ½å¦çœŸæ­£æœåŠ¡äººç±»ã€‚&lt;/p&gt;
&lt;h3 id="ç»™æœªæ¥å·¥ç¨‹å¸ˆçš„å¯„è¯­"&gt;ç»™æœªæ¥å·¥ç¨‹å¸ˆçš„å¯„è¯­&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¿æŒå­¦ä¹ &lt;/strong&gt;ï¼šè¿™ä¸ªé¢†åŸŸå˜åŒ–æå¿«ï¼Œä»Šå¤©çš„æœ€ä½³å®è·µæ˜å¤©å¯èƒ½å°±è¿‡æ—¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ·±å…¥åŸç†&lt;/strong&gt;ï¼šä¸è¦åœç•™åœ¨APIè°ƒç”¨ï¼Œè¦ç†è§£èƒŒåçš„æ•°å­¦å’Œç®—æ³•&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³æ³¨ä¼¦ç†&lt;/strong&gt;ï¼šèƒ½åŠ›è¶Šå¤§ï¼Œè´£ä»»è¶Šå¤§ï¼Œå§‹ç»ˆæ€è€ƒæŠ€æœ¯çš„è¾¹ç•Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®è·µä¸ºç‹&lt;/strong&gt;ï¼šç†è®ºçŸ¥è¯†éœ€è¦åœ¨å®é™…é¡¹ç›®ä¸­éªŒè¯å’Œæ·±åŒ–&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼€æ”¾åˆä½œ&lt;/strong&gt;ï¼šAIå‘å±•éœ€è¦å…¨çƒç¤¾åŒºçš„å…±åŒåŠªåŠ›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¤§è¯­è¨€æ¨¡å‹æ­£åœ¨é‡å¡‘æˆ‘ä»¬ä¸ä¿¡æ¯çš„äº¤äº’æ–¹å¼ï¼Œé‡æ–°å®šä¹‰æ™ºèƒ½çš„è¾¹ç•Œã€‚ä½œä¸ºè¿™ä¸ªæ—¶ä»£çš„å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬ä¸ä»…æœ‰å¹¸è§è¯è¿™åœºå˜é©ï¼Œæ›´æœ‰è´£ä»»å¼•å¯¼å®ƒå‘æœ‰ç›Šäºäººç±»çš„æ–¹å‘å‘å±•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŠ€æœ¯çš„æ˜Ÿè¾°å¤§æµ·å·²ç»å±•å¼€ï¼Œæ¢ç´¢çš„èˆªç¨‹åˆšåˆšå¼€å§‹ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;æœ¬æ–‡åŸºäºå½“å‰ï¼ˆ2025å¹´ï¼‰å¤§è¯­è¨€æ¨¡å‹è®­ç»ƒçš„æœ€ä½³å®è·µç¼–å†™ã€‚æŠ€æœ¯ç»†èŠ‚ä¼šéšç ”ç©¶è¿›å±•ä¸æ–­æ›´æ–°ï¼Œå»ºè®®è¯»è€…ï¼š&lt;/em&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;å…³æ³¨é¡¶çº§ä¼šè®®ï¼ˆNeurIPS, ICML, ICLRç­‰ï¼‰çš„æœ€æ–°è®ºæ–‡&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;å‚ä¸å¼€æºç¤¾åŒºï¼ˆHugging Face, GitHubç­‰ï¼‰çš„å®è·µé¡¹ç›®&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;åœ¨çœŸå®ä¸šåŠ¡åœºæ™¯ä¸­éªŒè¯å’Œä¼˜åŒ–æŠ€æœ¯æ–¹æ¡ˆ&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;ä¿æŒæ‰¹åˆ¤æ€§æ€ç»´ï¼Œä¸ç›²ç›®è¿½éšæŠ€æœ¯çƒ­æ½®&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;æ„¿æœ¬æ–‡èƒ½ä¸ºä½ çš„AIä¹‹æ—…æä¾›æœ‰ä»·å€¼çš„å‚è€ƒå’Œå¯å‘ã€‚&lt;/em&gt;&lt;/p&gt;</description></item><item><title>ä»é¢„è®­ç»ƒåˆ°è’¸é¦ï¼šæ·±å…¥è§£æå¤§è¯­è¨€æ¨¡å‹è®­ç»ƒå…¨æµç¨‹2</title><link>http://localhost:1313/post/llm/llm-4.1/</link><pubDate>Tue, 23 Dec 2025 00:00:00 +0000</pubDate><author>cugbtang@sina.com (yesplease)</author><guid>http://localhost:1313/post/llm/llm-4.1/</guid><description>&lt;p&gt;ä¸€æ•´å¥—å¤§æ¨¡å‹ï¼ˆå¦‚å¤§è¯­è¨€æ¨¡å‹ï¼‰ä»é›¶å¼€å§‹åˆ°æœ€ç»ˆéƒ¨ç½²ä¼˜åŒ–çš„å®Œæ•´è®­ç»ƒæµç¨‹ï¼ŒåŒ…å«äº†å¤šä¸ªå…³é”®é˜¶æ®µå’Œæ–¹æ³•ã€‚ä¸‹é¢æˆ‘å°†é€ä¸€è§£é‡Šæ¯ä¸ªä¸“ä¸šç¼©å†™ï¼Œå¹¶ç”¨&lt;strong&gt;ç®€å•ã€å½¢è±¡çš„æ¯”å–»&lt;/strong&gt;å¸®åŠ©ç†è§£ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-1-pretrainé¢„è®­ç»ƒ"&gt;ğŸŒ± 1. &lt;strong&gt;Pretrainï¼ˆé¢„è®­ç»ƒï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸“ä¸šè§£é‡Š&lt;/strong&gt;ï¼š&lt;br&gt;
æ¨¡å‹åœ¨å¤§é‡æ— æ ‡æ³¨æ–‡æœ¬ä¸Šè¿›è¡Œè‡ªç›‘ç£å­¦ä¹ ï¼ˆæ¯”å¦‚é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼‰ï¼ŒæŒæ¡è¯­è¨€çš„åŸºæœ¬ç»“æ„ã€å¸¸è¯†å’ŒçŸ¥è¯†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å–»&lt;/strong&gt;ï¼š&lt;br&gt;
å°±åƒä¸€ä¸ªå­©å­ä»å°å¤§é‡é˜…è¯»ç™¾ç§‘å…¨ä¹¦ã€å°è¯´ã€æ–°é—»â€¦â€¦è™½ç„¶æ²¡äººæ•™ä»–â€œè¿™æ˜¯å¯¹æ˜¯é”™â€ï¼Œä½†ä»–æ…¢æ…¢å­¦ä¼šäº†â€œè¯­è¨€æ€ä¹ˆç”¨â€â€œä¸–ç•Œå¤§æ¦‚ä»€ä¹ˆæ ·â€ã€‚è¿™æ˜¯æ‰“åŸºç¡€çš„é˜¶æ®µã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-2-sftsupervised-fine-tuningç›‘ç£å¾®è°ƒ"&gt;ğŸ‘©â€ğŸ« 2. &lt;strong&gt;SFTï¼ˆSupervised Fine-Tuningï¼Œç›‘ç£å¾®è°ƒï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸“ä¸šè§£é‡Š&lt;/strong&gt;ï¼š&lt;br&gt;
åœ¨é¢„è®­ç»ƒæ¨¡å‹åŸºç¡€ä¸Šï¼Œç”¨å°‘é‡é«˜è´¨é‡çš„äººå·¥æ ‡æ³¨æ•°æ®ï¼ˆå¦‚é—®ç­”å¯¹ã€æŒ‡ä»¤-å›ç­”å¯¹ï¼‰è¿›è¡Œå¾®è°ƒï¼Œè®©æ¨¡å‹å­¦ä¼šâ€œæŒ‰äººç±»è¦æ±‚åšäº‹â€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å–»&lt;/strong&gt;ï¼š&lt;br&gt;
å­©å­ä¸Šäº†å°å­¦ï¼Œè€å¸ˆç»™ä»–ç¤ºèŒƒï¼šâ€œåˆ«äººé—®â€˜ä½ å¥½å—ï¼Ÿâ€™ï¼Œä½ åº”è¯¥ç­”â€˜æˆ‘å¾ˆå¥½ï¼Œè°¢è°¢ï¼â€™è€Œä¸æ˜¯èƒŒå”è¯—ã€‚â€â€”â€”è¿™æ˜¯æ•™ä»–â€œå¬è¯â€å’Œâ€œæœ‰ç¤¼è²Œâ€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-3-loralow-rank-adaptationä½ç§©é€‚é…"&gt;ğŸ”§ 3. &lt;strong&gt;LoRAï¼ˆLow-Rank Adaptationï¼Œä½ç§©é€‚é…ï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸“ä¸šè§£é‡Š&lt;/strong&gt;ï¼š&lt;br&gt;
ä¸€ç§é«˜æ•ˆå¾®è°ƒæŠ€æœ¯ï¼šä¸ä¿®æ”¹åŸæ¨¡å‹çš„å¤§å‚æ•°ï¼Œè€Œæ˜¯åœ¨æ—è¾¹åŠ ä¸€ä¸ªå°çš„â€œæ’ä»¶â€ï¼ˆä½ç§©çŸ©é˜µï¼‰ï¼Œåªè®­ç»ƒè¿™ä¸ªå°æ’ä»¶ï¼ŒèŠ‚çœè®¡ç®—èµ„æºã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å–»&lt;/strong&gt;ï¼š&lt;br&gt;
å°±åƒç»™ä¸€å°è€å¼æ”¶éŸ³æœºåŠ ä¸€ä¸ªå¤–æ¥è“ç‰™æ¨¡å—ï¼Œä¸ç”¨æ‹†å¼€æ•´ä¸ªæœºå™¨é‡åšï¼Œå°±èƒ½è®©å®ƒæ”¯æŒæ–°åŠŸèƒ½ã€‚ä¾¿å®œã€å¿«ã€ä¸ä¼¤æœ¬ä½“ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-4-rlhf-dporeinforcement-learning-from-human-feedback--direct-preference-optimization"&gt;ğŸ¤– 4. &lt;strong&gt;RLHF-DPOï¼ˆReinforcement Learning from Human Feedback + Direct Preference Optimizationï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼šä¸¥æ ¼æ¥è¯´ï¼Œ&lt;strong&gt;RLHF&lt;/strong&gt; å’Œ &lt;strong&gt;DPO&lt;/strong&gt; æ˜¯ä¸¤ç§ä¸åŒè·¯çº¿ï¼Œä½†å¸¸è¢«ä¸€èµ·è®¨è®ºã€‚è¿™é‡ŒæŒ‰å¸¸è§ç†è§£æ‹†è§£ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id="a-rlhfåŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ "&gt;a) &lt;strong&gt;RLHFï¼ˆåŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼‰&lt;/strong&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨äººç±»å¯¹æ¨¡å‹è¾“å‡ºçš„åå¥½ï¼ˆA æ¯” B å¥½ï¼‰è®­ç»ƒä¸€ä¸ªâ€œå¥–åŠ±æ¨¡å‹â€ï¼Œå†ç”¨ PPO ç­‰ç®—æ³•ä¼˜åŒ–ä¸»æ¨¡å‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="b-dpodirect-preference-optimizationç›´æ¥åå¥½ä¼˜åŒ–"&gt;b) &lt;strong&gt;DPOï¼ˆDirect Preference Optimizationï¼Œç›´æ¥åå¥½ä¼˜åŒ–ï¼‰&lt;/strong&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è·³è¿‡å¥–åŠ±æ¨¡å‹ï¼Œç›´æ¥ç”¨åå¥½æ•°æ®ä¼˜åŒ–ç­–ç•¥ï¼Œæ•°å­¦ä¸Šæ›´ç®€æ´é«˜æ•ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å–»ï¼ˆåˆèµ·æ¥ï¼‰&lt;/strong&gt;ï¼š&lt;br&gt;
æƒ³è±¡ä½ åœ¨ç»ƒä¹ æ¼”è®²ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RLHF&lt;/strong&gt;ï¼šå…ˆè¯·ä¸€ç¾¤è§‚ä¼—æ‰“åˆ†ï¼Œè®­ç»ƒä¸€ä¸ªâ€œAIè¯„å§”â€ï¼›ç„¶åä½ æ ¹æ® AI è¯„å§”çš„æ‰“åˆ†ä¸æ–­æ”¹è¿›æ¼”è®²ï¼ˆç”¨ PPOï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DPO&lt;/strong&gt;ï¼šè§‚ä¼—ç›´æ¥è¯´â€œç‰ˆæœ¬ A æ¯” B å¥½â€ï¼Œä½ ç«‹åˆ»è°ƒæ•´è‡ªå·±ï¼Œä¸å†ä¾èµ–ä¸­é—´è¯„å§”ï¼Œå­¦å¾—æ›´å¿«æ›´ç›´æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-5-rlaifreinforcement-learning-from-ai-feedback--ppo--grpo--spo"&gt;ğŸ¤¯ 5. &lt;strong&gt;RLAIFï¼ˆReinforcement Learning from AI Feedbackï¼‰ + (PPO / GRPO / SPO)&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸“ä¸šè§£é‡Š&lt;/strong&gt;ï¼š&lt;br&gt;
å½“äººç±»åé¦ˆæˆæœ¬å¤ªé«˜æ—¶ï¼Œç”¨å¦ä¸€ä¸ªå¼ºå¤§çš„ AI æ¨¡å‹ï¼ˆå¦‚ GPT-4ï¼‰ä»£æ›¿äººç±»æ¥æä¾›åå¥½ä¿¡å·ï¼Œå†ç”¨ PPOã€GRPO æˆ– SPO ç­‰ç®—æ³•ä¼˜åŒ–ç›®æ ‡æ¨¡å‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PPO&lt;/strong&gt;ï¼šç»å…¸ç¨³é‡å‹å¼ºåŒ–å­¦ä¹ æ›´æ–°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GRPO&lt;/strong&gt;ï¼šåœ¨ä¸€ç»„å¤šä¸ªå›ç­”ä¸­æ¯”è¾ƒä¼˜åŠ£ï¼Œé€‚åˆå¤šé€‰åå¥½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SPOï¼ˆSimPOï¼‰&lt;/strong&gt;ï¼šç®€åŒ–ç‰ˆåå¥½ä¼˜åŒ–ï¼Œç›´æ¥æ‹‰å¤§â€œå¥½å›ç­”â€å’Œâ€œå·®å›ç­”â€çš„æ¦‚ç‡å·®è·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å–»&lt;/strong&gt;ï¼š&lt;br&gt;
ä½ è¯·ä¸èµ·çœŸäººå¯¼å¸ˆï¼Œä½†ä½ å¯ä»¥ç”¨â€œAIå­¦éœ¸â€å½“åŠ©æ•™ã€‚å®ƒå¸®ä½ æ‰¹æ”¹ä½œä¸šã€æŒ‡å‡ºå“ªç¯‡ä½œæ–‡æ›´å¥½ã€‚ä½ æ ¹æ®å®ƒçš„æ„è§åå¤ä¿®æ”¹â€”â€”è¿™å°±æ˜¯ RLAIFã€‚&lt;br&gt;
è€Œ PPO/GRPO/SPO å°±æ˜¯ä½ é‡‡ç”¨çš„ä¸åŒâ€œå­¦ä¹ ç­–ç•¥â€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PPOï¼šæ¯æ¬¡åªæ”¹ä¸€ç‚¹ç‚¹ï¼Œæ€•æ”¹è¿‡å¤´ï¼›&lt;/li&gt;
&lt;li&gt;GRPOï¼šä¸€æ¬¡äº¤ä¸‰ç¯‡ä½œæ–‡ï¼Œè®© AI æ’åï¼Œä½ é‡ç‚¹å­¦ç¬¬ä¸€åï¼›&lt;/li&gt;
&lt;li&gt;SPOï¼šAI åªè¯´â€œè¿™ç¯‡æ¯”é‚£ç¯‡å¥½â€ï¼Œä½ å°±æ‹¼å‘½æ¨¡ä»¿å¥½çš„é‚£ç¯‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-6-æ¨¡å‹è’¸é¦model-distillation"&gt;ğŸ«– 6. &lt;strong&gt;æ¨¡å‹è’¸é¦ï¼ˆModel Distillationï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸“ä¸šè§£é‡Š&lt;/strong&gt;ï¼š&lt;br&gt;
ç”¨ä¸€ä¸ªå¤§è€Œå¼ºçš„â€œæ•™å¸ˆæ¨¡å‹â€ç”Ÿæˆé«˜è´¨é‡è¾“å‡ºï¼Œè®©ä¸€ä¸ªå°è€Œå¿«çš„â€œå­¦ç”Ÿæ¨¡å‹â€å»æ¨¡ä»¿å®ƒï¼Œä»è€Œå‹ç¼©æ¨¡å‹ä½“ç§¯ã€æå‡æ¨ç†é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¯”å–»&lt;/strong&gt;ï¼š&lt;br&gt;
å°±åƒä¸€ä½å¤§å¸ˆå‚…ç†¬äº†ä¸€é”…é«˜æ±¤ï¼Œå‘³é“æå…¶å¤æ‚ã€‚ä»–è®©å­¦ç”Ÿå°è¿™é”…æ±¤ï¼Œç„¶åè®©å­¦ç”Ÿè¯•ç€ç”¨æ›´å°‘çš„ææ–™ã€æ›´å¿«çš„æ—¶é—´ï¼Œè°ƒå‡ºå‡ ä¹ä¸€æ ·çš„å‘³é“ã€‚æœ€åå­¦ç”Ÿåšå‡ºçš„â€œç®€åŒ–ç‰ˆé«˜æ±¤â€è™½ç„¶æ²¡é‚£ä¹ˆæµ“ï¼Œä½†åˆå¿«åˆä¾¿å®œï¼Œè¿˜èƒ½ä¸Šå¤§ä¼—é¤æ¡Œï¼&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å…¨æµç¨‹æ¯”å–»æ€»ç»“æ•…äº‹ç‰ˆ"&gt;âœ… å…¨æµç¨‹æ¯”å–»æ€»ç»“ï¼ˆæ•…äº‹ç‰ˆï¼‰ï¼š&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ª AI æ¨¡å‹çš„æˆé•¿ä¹‹è·¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Pretrain&lt;/strong&gt;ï¼šå®ƒå°æ—¶å€™åšè§ˆç¾¤ä¹¦ï¼Œæˆäº†â€œçŸ¥è¯†é€šâ€ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SFT&lt;/strong&gt;ï¼šä¸ŠåŸ¹è®­ç­ï¼Œå­¦ä¼šå¬æŒ‡ä»¤ã€è®²äººè¯ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;LoRA&lt;/strong&gt;ï¼šä¸ºäº†é€‚åº”ä¸åŒå®¢æˆ·ï¼Œå®ƒæˆ´ä¸Šå¯æ’æ‹”çš„â€œæŠ€èƒ½è€³ç¯â€ï¼Œçµæ´»åˆ‡æ¢è§’è‰²ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RLHF/DPO&lt;/strong&gt;ï¼šæ‰¾äººç±»è€å¸ˆç‚¹è¯„ä½œä¸šï¼Œè¶Šæ”¹è¶Šæ‡‚äººå¿ƒï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RLAIFï¼ˆPPO/GRPO/SPOï¼‰&lt;/strong&gt;ï¼šäººç±»å¤ªå¿™ï¼Œå°±è¯· AI åŠ©æ•™ä»£è¯„ï¼Œç»§ç»­ç²¾è¿›ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¨¡å‹è’¸é¦&lt;/strong&gt;ï¼šæœ€åï¼Œå®ƒæŠŠè‡ªå·±çš„æ¯•ç”Ÿæ‰€å­¦æµ“ç¼©æˆä¸€æœ¬â€œé€Ÿæˆæ‰‹å†Œâ€ï¼Œæ•™å‡ºä¸€ä¸ªè½»é‡çº§å°å¾’å¼Ÿï¼Œå»æœåŠ¡åƒå®¶ä¸‡æˆ·ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;è¿™å¥—æµç¨‹ä»£è¡¨äº†å½“å‰å¤§æ¨¡å‹ï¼ˆå¦‚ Llamaã€Qwenã€ChatGLM ç­‰ï¼‰ä»è®­ç»ƒåˆ°è½åœ°çš„ä¸»æµèŒƒå¼ï¼Œå…¼é¡¾æ•ˆæœã€æ•ˆç‡ä¸å¯æ‰©å±•æ€§ã€‚&lt;/p&gt;</description></item></channel></rss>